<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Hybrid Kubernetes in production pt. 1 | SKIP</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://skip.kartverket.no/blog/hybrid-kubernetes-in-production-part-1"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Hybrid Kubernetes in production pt. 1 | SKIP"><meta data-rh="true" name="description" content="One of the biggest challenges that we hear is the challenge of running hybridized K8s workloads. Here we share our experience using Anthos for hybrid cloud
"><meta data-rh="true" property="og:description" content="One of the biggest challenges that we hear is the challenge of running hybridized K8s workloads. Here we share our experience using Anthos for hybrid cloud
"><meta data-rh="true" property="og:image" content="https://skip.kartverket.no/img/skip.png"><meta data-rh="true" name="twitter:image" content="https://skip.kartverket.no/img/skip.png"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2023-11-07T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://eliine.dev"><meta data-rh="true" property="article:tag" content="anthos,kubernetes,hybrid"><link data-rh="true" rel="icon" href="/img/favicon/favicon.ico"><link data-rh="true" rel="canonical" href="https://skip.kartverket.no/blog/hybrid-kubernetes-in-production-part-1"><link data-rh="true" rel="alternate" href="https://skip.kartverket.no/blog/hybrid-kubernetes-in-production-part-1" hreflang="en"><link data-rh="true" rel="alternate" href="https://skip.kartverket.no/blog/hybrid-kubernetes-in-production-part-1" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://skip.kartverket.no/blog/hybrid-kubernetes-in-production-part-1","mainEntityOfPage":"https://skip.kartverket.no/blog/hybrid-kubernetes-in-production-part-1","url":"https://skip.kartverket.no/blog/hybrid-kubernetes-in-production-part-1","headline":"Hybrid Kubernetes in production pt. 1","name":"Hybrid Kubernetes in production pt. 1","description":"One of the biggest challenges that we hear is the challenge of running hybridized K8s workloads. Here we share our experience using Anthos for hybrid cloud\n","datePublished":"2023-11-07T00:00:00.000Z","author":{"@type":"Person","name":"Eline Henriksen","description":"Tidligere Produkteier og Plattformutvikler","url":"https://eliine.dev","image":"https://github.com/eliihen.png"},"image":{"@type":"ImageObject","@id":"https://skip.kartverket.no/img/skip.png","url":"https://skip.kartverket.no/img/skip.png","contentUrl":"https://skip.kartverket.no/img/skip.png","caption":"title image for the blog post: Hybrid Kubernetes in production pt. 1"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://skip.kartverket.no/blog","name":"SKIP Tech Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="SKIP RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="SKIP Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="SKIP JSON Feed">






<link rel="preconnect" href="https://us.i.posthog.com">
<script>!function(t,e){var o,s,r,a;e.__SV||(window.posthog=e,e._i=[],e.init=function(p,i,n){function u(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(r=t.createElement("script")).type="text/javascript",r.async=!0,r.src=i.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(a=t.getElementsByTagName("script")[0]).parentNode.insertBefore(r,a);var c=e;for(void 0!==n?c=e[n]=[]:n="posthog",c.people=c.people||[],c.toString=function(t){var e="posthog";return"posthog"!==n&&(e+="."+n),t||(e+=" (stub)"),e},c.people.toString=function(){return c.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags getFeatureFlag getFeatureFlagPayload reloadFeatureFlags group updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures getActiveMatchingSurveys getSurveys onSessionId".split(" "),s=0;s<o.length;s++)u(c,o[s]);e._i.push([p,i,n])},e.__SV=1)}(document,window.posthog||[]),posthog.init("phc_u4Ex4Cbp5HNPRMCbuXo9saYy66sbqTPAuzOBCkD8EJa",{api_host:"https://ph.kartverket.no",ui_host:"https://eu.i.posthog.com",id:"default"})</script>

<script src="https://platform.twitter.com/widgets.js"></script><link rel="stylesheet" href="/assets/css/styles.0042e133.css">
<script src="/assets/js/runtime~main.f54f4e02.js" defer="defer"></script>
<script src="/assets/js/main.6b5e1c6b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/skip.png"><link rel="preload" as="image" href="https://github.com/eliihen.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/skip.png" alt="SKIP" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/skip.png" alt="SKIP" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">SKIP</b></a><a class="navbar__item navbar__link" href="/docs">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Tech Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://kartverket.atlassian.net/wiki/spaces/SIK/overview" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">SikkerhetshÃ¥ndboka<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://github.com/kartverket" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2024</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/20-teams-on-skip">20 teams on SKIP: What we&#x27;ve learned along the way</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/introducing-apps-repositories">Scaling with Argo CD: Introducing the Apps Repo Architecture</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/crisis-management-exercises">Crisis Management Exercises</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/hybrid-kubernetes-in-production-part-3">Hybrid Kubernetes in production pt. 3</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2023</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/skip-on-plattformpodden">SKIP on Plattformpodden!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/hybrid-kubernetes-in-production-part-2">Hybrid Kubernetes in production pt. 2</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/hybrid-kubernetes-in-production-part-1">Hybrid Kubernetes in production pt. 1</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/welcome">SKIP has a tech blog!</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_f1Hy">Hybrid Kubernetes in production pt. 1</h1><div class="container_mt6G margin-vert--md"><time datetime="2023-11-07T00:00:00.000Z">November 7, 2023</time> Â· <!-- -->8 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://eliine.dev" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://github.com/eliihen.png" alt="Eline Henriksen"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://eliine.dev" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp" translate="no">Eline Henriksen</span></a></div><small class="authorTitle_nd0D" title="Tidligere Produkteier og Plattformutvikler">Tidligere Produkteier og Plattformutvikler</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p><img decoding="async" loading="lazy" alt="Anthos in Google Cloud" src="/assets/images/anthos-1-7de3d78d58e53af12f241a38a12f68ef.png" width="3618" height="2994" class="img_ev3q"></p>
<p>Over the years we talked with many other public sector companies about their
experiences in running containers in production. One of the biggest challenges
that we hear again and again is the challenge of running hybridized workloads,
or how to have some workloads running on-premise and some in the the cloud in a
good way.</p>
<p>In this newsletter-series we will share some of our experiences solving this
issue by running Anthos on VMWare (or GKE on-prem, if you prefer) tied together
to the cloud in Kartverket using hybrid mesh. We will also discuss the reasons
we went with Anthos and pros and cons we have experienced so far.</p>
<p>At <a href="https://www.kartverket.no/en" target="_blank" rel="noopener noreferrer" class="">Kartverket</a> we have an ambition to adopt cloud
native technologies. There&#x27;s thousands of ways to do this, and after trialing a
couple of alternative solutions, including running plain Kubernetes and VMWare
Tanzu, we decided to go with Anthos. Anthos is a platform that allows us to run
Kubernetes clusters on-premise and in the cloud, and manage them from a single
pane of glass. We have been running Anthos in production for a while now, at
least long enough to be able to share our thoughts.</p>
<p>This newsletter is the first of three part series about Anthos in
Kartverket.</p>
<ol>
<li class="">Why we chose Anthos (You are here!)</li>
<li class=""><a class="" href="/blog/hybrid-kubernetes-in-production-part-2">How we run Anthos</a></li>
<li class=""><a class="" href="/blog/hybrid-kubernetes-in-production-part-3">Benefits and what we would have done differently</a></li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="so-why-a-hybrid-cloud">So why a hybrid cloud?<a href="#so-why-a-hybrid-cloud" class="hash-link" aria-label="Direct link to So why a hybrid cloud?" title="Direct link to So why a hybrid cloud?" translate="no">â€‹</a></h2>
<p><img decoding="async" loading="lazy" alt="Illustration: Anthos runs on GCP, on-premise, other clouds and Edge" src="/assets/images/anthos-3-c8c56e8241d54a23f269d181b5d7eb57.png" width="378" height="235" class="img_ev3q"></p>
<p>Were you to take the time machine back a few years, you would see Kartverket as a
traditional enterprise with a lot of knowledge and experience in running
on-premise workloads. This knowledge served us well, but also slightly held us
back in terms of our imagination. We knew that there had to be a better way,
but our enterprise was simply not mature enough to adopt a pure cloud strategy.
The fear of the unknown cloud weighed heavily on many people, and therefore few
people wanted to take the risk of moving to the cloud.</p>
<p>This is something we&#x27;ve worked on for a long time, and still are. After a
long time of working with the stakeholders in the organization, we eventually
built a cloud strategy, which in simple terms stated that we would prefer
SaaS-products over hosting things ourselves, and that we would gradually move
our workloads to the cloud.</p>
<p>This cloud strategy however, which cleared up a lot of blockers, came too late
for us on <abbr title="Statens Kartverk Infrastructure Platform">SKIP</abbr>. At
that point we had already done most of the work on our on-premise platform,
building on the assumptions the organization held at the time, which was that we
met our needs through existing infrastructure and that using public cloud had
disqualifying cost and compliance implications. For SKIP it was therefore full
steam ahead, building the on-prem part first, then adding the hybrid and cloud
part later.</p>
<p>It&#x27;s not like we would have ended up with a pure cloud setup in any case,
though. If you&#x27;re at all familiar with large enterprises, you will know that
they are often very complex. This is also true for Kartverket, where we have a
lot of existing systems that are not easy to move to the cloud. We also have a
lot of systems that are not suitable for the cloud, mostly because they are
designed to run in a way that would not be cost effective in the cloud. In
addition we have absolutely massive datasets (petabyte-scale) that would be very
expensive to move to the cloud.</p>
<p>Because of these limitations, a pure cloud strategy is not considered to be a
good fit for us.</p>
<p>A hybrid cloud, however, can give us the scalability and flexibility of the
cloud, while still allowing us to run some of our systems on-prem, with the
experience being more or less seamless for the developers.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-we-chose-anthos">Why we chose Anthos<a href="#why-we-chose-anthos" class="hash-link" aria-label="Direct link to Why we chose Anthos" title="Direct link to Why we chose Anthos" translate="no">â€‹</a></h2>
<p>After some disastrous issues with our previous hybrid cloud PoC (that&#x27;s a whole
story in itself) we decided to to look at what alternatives existed on the
market. We considered various options, but eventually decided to run a PoC on
Anthos. This was based on a series of conditions at the time, to name a few:</p>
<ul>
<li class="">We had a decent pool of knowledge in GCP compared to AWS and Azure at the time</li>
<li class="">Some very well established platform teams in the public sector were also using
GCP, which meant it would be easier to share work and learnings</li>
<li class="">Anthos and GCP seemed to offer a good developer experience, which for us as a
platform team is of paramount importance</li>
<li class="">A provider like Google is well established in the cloud space (especially
Kubernetes), and would have a fully featured, stable and user friendly product</li>
</ul>
<p>SKIP ran the Anthos PoC over a few months, initially as an on-prem offering only.
Drawing on the knowledge of internal network and infrastructure engineers, this
took us all the way from provisioning clusters and networking, to iterating on
tools and docs and finally onboarding an internal product team on the platform.
Once we felt we had learned what we could from the PoC, we gathered thoughts
from the product team, infrastructure team and of course the SKIP platform team.</p>
<p>The results were unanimous. All the participants lauded the GCP user interfaces that
allowed visibility into running workloads, as well as the new self-service
features that came with it. Infrastructure engineers complimented the
installation scripts and documentation, which would make it easier to keep the
clusters up to date.</p>
<p>Based on the total package we therefore decided to move ahead with Anthos. To
infinity and beyond! ðŸš€</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-is-anthos-anyway">What is Anthos anyway?<a href="#what-is-anthos-anyway" class="hash-link" aria-label="Direct link to What is Anthos anyway?" title="Direct link to What is Anthos anyway?" translate="no">â€‹</a></h2>
<p><img decoding="async" loading="lazy" alt="Anthos logo" src="/assets/images/anthos-2-1a3889bc339c3f2ac97e81d32c482cff.png" width="2200" height="917" class="img_ev3q"></p>
<p>Anthos is Google&#x27;s solution to multicloud. It&#x27;s a product portfolio where the
main product is GKE (Google Kubernetes Engine) on-premise. Using GKE on-prem
you can run Kubernetes clusters on-premise and manage them from the same
control plane in Google Cloud, as if they were proper cloud clusters.</p>
<p>In fact, Anthos is truly multi-cloud. That means you can deploy Anthos
clusters to GKE and on-prem, but also AWS and Azure. On other cloud platforms
it uses the provider&#x27;s Kubernetes distribution like
<a href="https://learn.microsoft.com/en-us/azure/aks/" target="_blank" rel="noopener noreferrer" class="">AKS</a>, but you can still manage it
from GKE alongside your other clusters.</p>
<p>In addition to GKE, the toolbox includes:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="anthos-service-mesh-asm">Anthos Service Mesh (ASM)<a href="#anthos-service-mesh-asm" class="hash-link" aria-label="Direct link to Anthos Service Mesh (ASM)" title="Direct link to Anthos Service Mesh (ASM)" translate="no">â€‹</a></h3>
<p>A networking solution based on <a href="http://istio.io" target="_blank" rel="noopener noreferrer" class="">Istio</a>. This is sort of the
backbone of the hybrid features of Anthos, as provided you&#x27;ve configured a
hybrid mesh it allows applications deployed to the cloud to communicate with
on-premise workloads automatically and without manual steps like opening
firewalls.</p>
<p>All traffic that flows between microservices on the mesh is also automatically
encrypted with mTLS.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="anthos-config-managment-acm">Anthos Config Managment (ACM)<a href="#anthos-config-managment-acm" class="hash-link" aria-label="Direct link to Anthos Config Managment (ACM)" title="Direct link to Anthos Config Managment (ACM)" translate="no">â€‹</a></h3>
<p>A way to sync git repos into a running cluster. Think GitOps here. Build a repo
containing all your Kubernetes manifests and sync them into your cluster, making
cluster maintenance easier.</p>
<p>ACM also includes a policy controller based on <a href="https://open-policy-agent.github.io/gatekeeper/website/" target="_blank" rel="noopener noreferrer" class="">Open Policy Agent Gatekeeper
(OPA)</a> which allows
platform developers to build guardrails into developers&#x27; workflows using
policies like <em>&quot;don&#x27;t allow containers to run as root&quot;</em>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="anthos-connect-gateway">Anthos Connect Gateway<a href="#anthos-connect-gateway" class="hash-link" aria-label="Direct link to Anthos Connect Gateway" title="Direct link to Anthos Connect Gateway" translate="no">â€‹</a></h3>
<p>The connect gateway allows developers to log on to the cluster using <code>gcloud</code>
and <code>kubectl</code> commands, despite the cluster potentially being behind a
firewall. From a user experience standpoint this is quite useful, as devs
will be logged in to GCP using two factor authentication, and the same strong
authentication allows you to access kubernetes on-premise.</p>
<p>Connect Gateway also integrates with GCP groups, enabling RBAC in Kubernetes
to be assigned to groups instead of manually administered lists of users.</p>
<p>Currently the connect gateway only supports stateless requests, for example
<code>kubectl get pods</code> or <code>kubectl logs</code> (including <code>-f</code>). It does not support
<code>port-forward</code>, <code>exec</code> or <code>run</code>, which can be a bit annoying.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary" translate="no">â€‹</a></h2>
<p>As you can see, the above tools gives us a lot of benefits.</p>
<ul>
<li class="">Combined with the power of Google Cloud and
Terraform, they give us a good combination of flexibility through cloud services</li>
<li class="">Ease the maintenance by using the tools that Anthos and Terraform supply us</li>
<li class="">Eases the compliance and modernization burden by allowing a gradual or
partial migration to cloud, allowing parts to remain on-premise while still
retaining most of the modern tooling of the cloud</li>
</ul>
<p>That&#x27;s it for now! ðŸ™‚ We&#x27;ll be back with more details on how we run Anthos as
well as the pros and cons we&#x27;ve seen so far in the coming weeks. Stay tuned!</p>
<p><em>Disclaimer - Google, GKE and Anthos are trademarks of Google LLC and this website is not
endorsed by or affiliated with Google in any way.</em></p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/anthos">anthos</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/kubernetes">kubernetes</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/hybrid">hybrid</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/hybrid-kubernetes-in-production-part-2"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">Hybrid Kubernetes in production pt. 2</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/welcome"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">SKIP has a tech blog!</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#so-why-a-hybrid-cloud" class="table-of-contents__link toc-highlight">So why a hybrid cloud?</a></li><li><a href="#why-we-chose-anthos" class="table-of-contents__link toc-highlight">Why we chose Anthos</a></li><li><a href="#what-is-anthos-anyway" class="table-of-contents__link toc-highlight">What is Anthos anyway?</a><ul><li><a href="#anthos-service-mesh-asm" class="table-of-contents__link toc-highlight">Anthos Service Mesh (ASM)</a></li><li><a href="#anthos-config-managment-acm" class="table-of-contents__link toc-highlight">Anthos Config Managment (ACM)</a></li><li><a href="#anthos-connect-gateway" class="table-of-contents__link toc-highlight">Anthos Connect Gateway</a></li></ul></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li></ul></div></div></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Lenker</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://uustatus.no/nb/erklaringer/publisert/7148395f-f0cf-4019-9c45-3b83d79fd544" target="_blank" rel="noopener noreferrer" class="footer__link-item">TilgjengelighetserklÃ¦ring<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2026 Statens Kartverk</div></div></div></footer></div>
</body>
</html>