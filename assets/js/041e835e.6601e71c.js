"use strict";(self.webpackChunkskip_docs=self.webpackChunkskip_docs||[]).push([[1024],{10696:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>l,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"applikasjon-utrulling/github-actions/dependency-review","title":"Dependency review p\xe5 PR","description":"Dependency review kan brukes for \xe5 f\xe5 oversikt over s\xe5rbarheter og lisenser i nye eller oppdaterte avhengigheter.","source":"@site/docs/03-applikasjon-utrulling/08-github-actions/dependency-review.md","sourceDirName":"03-applikasjon-utrulling/08-github-actions","slug":"/applikasjon-utrulling/github-actions/dependency-review","permalink":"/docs/applikasjon-utrulling/github-actions/dependency-review","draft":false,"unlisted":false,"editUrl":"https://github.com/kartverket/skip-docs/edit/main/docs/03-applikasjon-utrulling/08-github-actions/dependency-review.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Bruk av Terraform","permalink":"/docs/applikasjon-utrulling/github-actions/bruk-av-terraform"},"next":{"title":"Transitive avhengigheter i Dependency Graph med Gradle","permalink":"/docs/applikasjon-utrulling/github-actions/gradle-dependency-graph"}}');var t=r(74848),s=r(28453);const a={},o="Dependency review p\xe5 PR",d={},c=[{value:"Internal actions",id:"internal-actions",level:2}];function p(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"dependency-review-p\xe5-pr",children:"Dependency review p\xe5 PR"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://kartverket.atlassian.net/wiki/spaces/SIK/pages/306810445/Dependency+Review",children:"Dependency review"})," kan brukes for \xe5 f\xe5 oversikt over s\xe5rbarheter og lisenser i nye eller oppdaterte avhengigheter."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Dep Rev",src:r(96183).A+"",width:"870",height:"793"})}),"\n",(0,t.jsxs)(n.p,{children:["GitHub actions kan brukes for \xe5 f\xe5 beskjed om s\xe5rbarheter og lisenser p\xe5 PR, slik som i eksempelet under. Dette forutsetter at dependency graph er riktig satt opp for \xf8kosystemet. Gradle-\xf8kosystemet m\xe5 h\xe5ndteres p\xe5 en spesiell m\xe5te, som vist i ",(0,t.jsx)(n.a,{href:"/docs/applikasjon-utrulling/github-actions/gradle-dependency-graph",children:"Transitive avhengigheter i Dependency Graph med Gradle"}),". Se ogs\xe5 ",(0,t.jsx)(n.a,{href:"https://kartverket.atlassian.net/wiki/spaces/SIK/pages/306906088/Dependency+Graph",children:"Dependency graph i Sikkerhetsh\xe5ndboka"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"name: Review dependencies\n\non:\n  pull_request:\n    branches:\n      - 'main'\n\njobs:\n  dependency-review:\n    permissions:\n      contents: read # Required for reading repository\n      pull-requests: write # Required for dependency review comments\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout repository\n        uses: actions/checkout@v4\n\n      - name: Perform dependency review\n        uses: actions/dependency-review-action@v4\n        if: github.event_name == 'pull_request'\n        with:\n          comment-summary-in-pr: always\n          fail-on-severity: moderate\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Team kan selv konfigurere hvordan dependency review skal fungere. For flere innstillinger, se ",(0,t.jsx)(n.a,{href:"https://docs.github.com/en/code-security/supply-chain-security/understanding-your-software-supply-chain/customizing-your-dependency-review-action-configuration",children:"GitHubs egen dokumentasjon"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["For bruk sammen med dependency sumbission API-et, se ",(0,t.jsx)(n.a,{href:"https://docs.github.com/en/code-security/supply-chain-security/understanding-your-software-supply-chain/about-dependency-review#using-github-actions-to-access-the-dependency-submission-api-and-the-dependency-review-api",children:"GitHub egne anbefalinger for bruk av dependency submission og dependency review sammen"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"internal-actions",children:"Internal actions"}),"\n",(0,t.jsx)(n.p,{children:"Vi har noen internal actions i Kartverket, som ikke vil fungere med Dependency Review, siden repoene ikke er public.\nDet kan dere l\xf8se med \xe5 legge actionen inn i allowlisten til dependency review slik:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"  - name: Perform dependency review\n    uses: actions/dependency-review-action@v4\n    if: github.event_name == 'pull_request'\n    with:\n      comment-summary-in-pr: always\n      fail-on-severity: moderate\n      allow-dependencies-licenses: |\n        pkg:github/kartverket/repo-navn\n        pkg:github/kartverket/en-annen-action\n"})}),"\n",(0,t.jsx)(n.p,{children:"Interne repoer blir kontinuerlig oppdatert av dependabot, og med Github Advanced Security s\xe5 f\xe5r vi varsler dersom actionen skulle v\xe6re s\xe5rbar, det burde derfor ikke v\xe6re noe problem \xe5 allowliste disse."})]})}function l(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>o});var i=r(96540);const t={},s=i.createContext(t);function a(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(s.Provider,{value:n},e.children)}},96183:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/dependency-review-pr-8293499fcf985daa0d275464abfdfac9.png"}}]);