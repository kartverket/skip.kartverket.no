"use strict";(self.webpackChunkskip_docs=self.webpackChunkskip_docs||[]).push([[5189],{28453:(e,r,n)=>{n.d(r,{R:()=>o,x:()=>d});var i=n(96540);const s={},t=i.createContext(s);function o(e){const r=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(t.Provider,{value:r},e.children)}},58639:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>d,default:()=>p,frontMatter:()=>o,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"applikasjon-utrulling/argo-cd/configuring-apps-repositories-with-configjson","title":"Konfigurere applikasjons-repositorier med config.json","description":"Applikasjoner i Argo CD opprettes dynamisk n\xe5r nye mapper i apps-repoet blir opprettet. Disse applikasjonene f\xf8lger en standard som er forh\xe5ndsdefinert av SKIP. Som standard er autosynkronsikring aktivert i utviklingsmilj\xf8 (dev), men ikke i produksjon (prod).","source":"@site/docs/03-applikasjon-utrulling/09-argo-cd/07-configuring-apps-repositories-with-configjson.md","sourceDirName":"03-applikasjon-utrulling/09-argo-cd","slug":"/applikasjon-utrulling/argo-cd/configuring-apps-repositories-with-configjson","permalink":"/docs/applikasjon-utrulling/argo-cd/configuring-apps-repositories-with-configjson","draft":false,"unlisted":false,"editUrl":"https://github.com/kartverket/skip-docs/edit/main/docs/03-applikasjon-utrulling/09-argo-cd/07-configuring-apps-repositories-with-configjson.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"ArgoCD Notifications","permalink":"/docs/applikasjon-utrulling/argo-cd/argocd-notifications"},"next":{"title":"\ud83e\udd91 ArgoKit","permalink":"/docs/applikasjon-utrulling/argokit/"}}');var s=n(74848),t=n(28453);const o={},d="Konfigurere applikasjons-repositorier med config.json",l={},a=[{value:"Tilgjengelige innstillinger",id:"tilgjengelige-innstillinger",level:2}];function c(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"konfigurere-applikasjons-repositorier-med-configjson",children:"Konfigurere applikasjons-repositorier med config.json"})}),"\n",(0,s.jsxs)(r.p,{children:["Applikasjoner i ",(0,s.jsx)(r.a,{href:"/docs/applikasjon-utrulling/argo-cd/",children:"Argo CD"})," opprettes dynamisk n\xe5r nye mapper i ",(0,s.jsx)(r.a,{href:"/docs/applikasjon-utrulling/argo-cd/hva-er-et-apps-repo",children:"apps-repoet"})," blir opprettet. Disse applikasjonene f\xf8lger en standard som er forh\xe5ndsdefinert av SKIP. Som standard er autosynkronsikring aktivert i utviklingsmilj\xf8 (dev), men ikke i produksjon (prod)."]}),"\n",(0,s.jsx)(r.p,{children:"Det er mulig \xe5 konfigurere innstillingene til en applikasjon i apps-repoet ditt ved \xe5 legge til en spesiell fil kalt config.json i mappen. N\xe5r denne filen er til stede, kan et sett forh\xe5ndsdefinerte alternativer angis for \xe5 konfigurere hvordan applikasjonen skal synkroniseres av Argo CD."}),"\n",(0,s.jsxs)(r.p,{children:["Eksempelet nedenfor viser en ",(0,s.jsx)(r.code,{children:"config.json"})," fil:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-javascript",children:'{\n  "tool": "directory",\n  "autoSync": true\n}\n'})}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:"config.json"})," Kan kun plasseres i rot-mappen for namespaces. For eksempel: ",(0,s.jsx)(r.code,{children:"dev/foo-main/config.json"})," eller ",(0,s.jsx)(r.code,{children:"env/atkv3-dev/foo-main/config.json"})," ."]}),"\n",(0,s.jsxs)(r.p,{children:["N\xe5r filen er lagt til i mappen, m\xe5 applikasjonen synkroniseres i Argo CD for \xe5 oppdatere applikasjonsinnstillingene slik at de f\xf8lger spesifikasjonene i ",(0,s.jsx)(r.code,{children:"config.json"}),". Dette skjer automatisk hvis autosynkronsikring er aktivert."]}),"\n",(0,s.jsx)(r.h2,{id:"tilgjengelige-innstillinger",children:"Tilgjengelige innstillinger"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:(0,s.jsx)(r.strong,{children:"N\xf8kkel"})}),(0,s.jsx)(r.th,{children:(0,s.jsx)(r.strong,{children:"Type"})}),(0,s.jsx)(r.th,{children:(0,s.jsx)(r.strong,{children:"Beskrivelse"})})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsxs)(r.td,{children:[(0,s.jsx)(r.code,{children:"tool"})," (required)"]}),(0,s.jsxs)(r.td,{children:[(0,s.jsx)(r.code,{children:"directory"})," / ",(0,s.jsx)(r.code,{children:"kustomize"})," / ",(0,s.jsx)(r.code,{children:"helm"})]}),(0,s.jsxs)(r.td,{children:["Hvilken framgangsm\xe5te Argo CD skal bruke for \xe5 synkronisere applikasjonen. \u201cDirectory\u201d alternativet st\xf8tter yaml og jsonnet filer. Se ",(0,s.jsx)(r.a,{href:"https://argo-cd.readthedocs.io/en/latest/user-guide/application_sources/",children:"tools"}),"."]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"autoSync"})}),(0,s.jsxs)(r.td,{children:["boolean ( ",(0,s.jsx)(r.code,{children:"true"})," / ",(0,s.jsx)(r.code,{children:"false"})," )"]}),(0,s.jsxs)(r.td,{children:["N\xe5r den er ",(0,s.jsx)(r.code,{children:"true"})," , vil applikasjonen automatisk synkroniseres n\xe5r Argo CD oppdager endringer i apps-repoet.  Standardverdi er",(0,s.jsx)(r.code,{children:"true"})," i dev og ",(0,s.jsx)(r.code,{children:"false"})," i prod."]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"prune"})}),(0,s.jsxs)(r.td,{children:["boolean ( ",(0,s.jsx)(r.code,{children:"true"})," / ",(0,s.jsx)(r.code,{children:"false"})," )"]}),(0,s.jsxs)(r.td,{children:["N\xe5r den er ",(0,s.jsx)(r.code,{children:"true"})," , Vil Argo CD automatisk fjerne ressurser som ikke eksisterer i apps-repoet i Git. Standardverdi er ",(0,s.jsx)(r.code,{children:"true"})," . Se ",(0,s.jsx)(r.a,{href:"https://argo-cd.readthedocs.io/en/latest/user-guide/auto_sync/#automatic-pruning",children:"prune"})," . Blir bare brukt hvis ",(0,s.jsx)(r.code,{children:"autoSync"})," er ",(0,s.jsx)(r.code,{children:"true"}),"."]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"allowEmpty"})}),(0,s.jsxs)(r.td,{children:["boolean ( ",(0,s.jsx)(r.code,{children:"true"})," / ",(0,s.jsx)(r.code,{children:"false"})," )"]}),(0,s.jsxs)(r.td,{children:["Sikkerhetsmekanisme. N\xe5r prune er ",(0,s.jsx)(r.code,{children:"true"}),", vil ressurser slettes automatisk, men det tillates ikke tomme synkroniseringer (slette alt) utenom n\xe5r ",(0,s.jsx)(r.code,{children:"allowEmpty"})," er ogs\xe5 satt til ",(0,s.jsx)(r.code,{children:"true"}),". Standardverdi er ",(0,s.jsx)(r.code,{children:"false"})," . Se ",(0,s.jsx)(r.a,{href:"https://argo-cd.readthedocs.io/en/latest/user-guide/auto_sync/#automatic-pruning-with-allow-empty-v18",children:"allowEmpty"})," . Blir bare brukt hvis ",(0,s.jsx)(r.code,{children:"autoSync"})," er ",(0,s.jsx)(r.code,{children:"true"}),"."]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"selfHeal"})}),(0,s.jsxs)(r.td,{children:["boolean ( ",(0,s.jsx)(r.code,{children:"true"})," / ",(0,s.jsx)(r.code,{children:"false"})," )"]}),(0,s.jsxs)(r.td,{children:["N\xe5r forandringer er gjort direkte p\xe5 klusteret, vil Argo CD ikke tilbakestille disse med mindre ",(0,s.jsx)(r.code,{children:"selfHeal"})," er satt til ",(0,s.jsx)(r.code,{children:"true"})," . Standardverdi er ",(0,s.jsx)(r.code,{children:"true"})," . Se ",(0,s.jsx)(r.a,{href:"https://argo-cd.readthedocs.io/en/latest/user-guide/auto_sync/#automatic-self-healing",children:"selfHeal"})," . Blir bare brukt hvis ",(0,s.jsx)(r.code,{children:"autoSync"})," er ",(0,s.jsx)(r.code,{children:"true"}),"."]})]})]})]})]})}function p(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);