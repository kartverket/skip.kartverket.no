"use strict";(self.webpackChunkskip_docs=self.webpackChunkskip_docs||[]).push([[1523],{28453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>a});var t=r(96540);const o={},i=t.createContext(o);function s(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),t.createElement(i.Provider,{value:n},e.children)}},36871:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>m,frontMatter:()=>s,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"applikasjon-utrulling/argokit/argokit-velkommen","title":"Velkommen til ArgoKit \ud83e\udd91","description":"Verkt\xf8yet for \xe5 rulle ut applikasjoner p\xe5 en enkel og smidig m\xe5te","source":"@site/docs/03-applikasjon-utrulling/10-argokit/01-argokit-velkommen.md","sourceDirName":"03-applikasjon-utrulling/10-argokit","slug":"/applikasjon-utrulling/argokit/argokit-velkommen","permalink":"/docs/applikasjon-utrulling/argokit/argokit-velkommen","draft":false,"unlisted":false,"editUrl":"https://github.com/kartverket/skip-docs/edit/main/docs/03-applikasjon-utrulling/10-argokit/01-argokit-velkommen.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\ud83e\udd91 Argokit","permalink":"/docs/applikasjon-utrulling/argokit/"},"next":{"title":"Argokit V1","permalink":"/docs/applikasjon-utrulling/argokit/argokit-v1"}}');var o=r(74848),i=r(28453);const s={},a="Velkommen til ArgoKit \ud83e\udd91",l={},d=[{value:"Introduksjon",id:"introduksjon",level:2},{value:"Eksempler",id:"eksempler",level:2},{value:"Uten ArgoKit-maler",id:"uten-argokit-maler",level:3},{value:"Med ArgoKit-maler",id:"med-argokit-maler",level:3},{value:"Oversikt over annen dokumentasjon du finner her",id:"oversikt-over-annen-dokumentasjon-du-finner-her",level:2}];function p(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"velkommen-til-argokit-",children:"Velkommen til ArgoKit \ud83e\udd91"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.em,{children:"Verkt\xf8yet for \xe5 rulle ut applikasjoner p\xe5 en enkel og smidig m\xe5te"})}),"\n",(0,o.jsx)("div",{style:{margin:"0 auto 2rem auto",maxWidth:"300px"},children:(0,o.jsx)("img",{src:"https://github.com/kartverket/argokit/raw/main/logo.png",alt:"ArgoKit Logo",width:"100%"})}),"\n",(0,o.jsx)(n.h2,{id:"introduksjon",children:"Introduksjon"}),"\n",(0,o.jsx)(n.p,{children:"Velkommen til ArgoKit! Her f\xe5r du en introduksjon til hva ArgoKit er, og hvorfor det er nyttig ved utrulling av applikasjoner. Du b\xf8r helst allerede ha lest om utrulling til SKIP ved hjelp av Skiperator og Argo CD. Hvis ikke anbefales f\xf8lgende ressurser f\xf8rst:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"/docs/applikasjon-utrulling/argo-cd/",children:"Argo CD-dokumentasjon"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://skip.kartverket.no/docs/applikasjon-utrulling/skiperator",children:"Skiperator"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://skip.kartverket.no/docs/kom-i-gang",children:"SKIP \u2013 kom i gang"})}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["Skiperator st\xf8tter b\xe5de YAML og JSON. I Kartverket brukes ofte ",(0,o.jsx)(n.a,{href:"https://jsonnet.org",children:"Jsonnet"}),", et konfigurasjonsspr\xe5k som utvider JSON med funksjoner, uttrykk og mulighet for gjenbruk. Jsonnet reduserer duplisering og gj\xf8r komplekse manifest enklere \xe5 vedlikeholde."]}),"\n",(0,o.jsx)(n.p,{children:"ArgoKit tilbyr et sett med gjenbrukbare Jsonnet-maler (bibliotek) som gj\xf8r det raskere og mer konsistent \xe5 definere Skiperator-applikasjoner. Under ser du to eksempler som genererer identisk manifest,f\xf8rst en \xabr\xe5\xbb Jsonnet-funksjon, deretter en som bruker ArgoKit sine byggesteiner."}),"\n",(0,o.jsx)(n.h2,{id:"eksempler",children:"Eksempler"}),"\n",(0,o.jsx)(n.h3,{id:"uten-argokit-maler",children:"Uten ArgoKit-maler"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsonnet",children:"function(name='foo-frontend', env, version, CLIENT_ID) [\n  {\n    apiVersion: 'skiperator.kartverket.no/v1alpha1',\n    kind: 'Application',\n    metadata: {\n      name: name,\n    },\n    spec: {\n      image: version,\n      port: 3000,\n      ingresses: ['foo.example-' + env + '.cloud.com'],\n      resources: {\n        requests: {\n          cpu: '25m',\n          memory: '128Mi',\n        },\n      },\n      accessPolicy: {\n        outbound: {\n          rules: [\n            { application: 'foo-backend' },\n          ],\n          external: [\n            { host: 'graph.microsoft.com' },\n            { host: 'login.microsoftonline.com' },\n          ],\n        },\n      },\n      env: [\n        { name: 'CLIENT_ID', value: CLIENT_ID },\n        { name: 'AUTHORITY', value: 'https://login.microsoftonline.com/abcdefg' },\n        { name: 'LOGIN_REDIRECT_URI', value: 'https://foo.example-' + env + '.cloud.com' },\n        { name: 'BACKEND_URL', value: 'https://api.foo.example-' + env + '.cloud.com' },\n        { name: 'FRONTEND_URL', value: 'https://frontend.example-' + env + '.cloud.com' },\n        {\n          name: 'SERVICE_CLIENT_ID',\n          value:\n            if env == 'dev' then 'abcdefg'\n            else if env == 'prod' then 'hijklmnop',\n        },\n      ],\n    },\n  },\n]\n"})}),"\n",(0,o.jsx)(n.h3,{id:"med-argokit-maler",children:"Med ArgoKit-maler"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsonnet",children:"local argokit = import '../../jsonnet/argokit.libsonnet';\nlocal app = argokit.application;\n\nfunction(name='foo-frontend', env, version, CLIENT_ID)\n  app.new(name) {\n    spec: {\n      image: version,\n      port: 3000,\n      resources: {\n        requests: {\n          cpu: '25m',\n          memory: '128Mi',\n        },\n      },\n    },\n  }\n  + app.withOutboundSkipApp('foo-backend')\n  + app.withOutboundHttp('graph.microsoft.com')\n  + app.withOutboundHttp('login.microsoftonline.com')\n  + app.forHostnames('foo.example-' + env + '.cloud.com')\n  + app.withVariable('CLIENT_ID', CLIENT_ID)\n  + app.withVariable('AUTHORITY', 'https://login.microsoftonline.com/abcdefg')\n  + app.withVariable('LOGIN_REDIRECT_URI', 'https://foo.example-' + env + '.cloud.com')\n  + app.withVariable('BACKEND_URL', 'https://api.foo.example-' + env + '.cloud.com')\n  + app.withVariable('FRONTEND_URL', 'https://frontend.example-' + env + '.cloud.com')\n  + app.withVariable(\n      'SERVICE_CLIENT_ID',\n      if env == 'dev' then 'abcdefg'\n      else if env == 'prod' then 'hijklmnop'\n    )\n"})}),"\n",(0,o.jsx)(n.p,{children:"Begge disse eksemplene rendrer ut samme JSON-manifest som er godkjent av Skiperator. Den siste bruker ArgoKit sine gjenbrukbare maler i mye st\xf8rre grad enn det f\xf8rste. Dette gj\xf8r filen mere lesbar og lar deg lettere legge til flere spesifikasjoner og resursser."}),"\n",(0,o.jsx)(n.h2,{id:"oversikt-over-annen-dokumentasjon-du-finner-her",children:"Oversikt over annen dokumentasjon du finner her"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:(0,o.jsx)(n.strong,{children:"Tema"})}),(0,o.jsx)(n.th,{children:(0,o.jsx)(n.strong,{children:"Side"})}),(0,o.jsx)(n.th,{children:(0,o.jsx)(n.strong,{children:"Informasjon"})})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"ArgoKit V1 API"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.a,{href:"/docs/applikasjon-utrulling/argokit/argokit-v1",children:"ArgoKit/ArgoKit V1"})}),(0,o.jsx)(n.td,{children:"Informasjon om ArgoKit V1 sine templates"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"ArgoKit V2 API"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.a,{href:"/docs/applikasjon-utrulling/argokit/argokit-v2",children:"ArgoKit/ArgoKit V2"})}),(0,o.jsx)(n.td,{children:"Informasjon om ArgoKit V2 sine templates"})]})]})]})]})}function m(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}}}]);