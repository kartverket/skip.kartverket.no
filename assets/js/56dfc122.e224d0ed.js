"use strict";(self.webpackChunkskip_docs=self.webpackChunkskip_docs||[]).push([[5184],{28453:(e,r,s)=>{s.d(r,{R:()=>t,x:()=>l});var d=s(96540);const i={},n=d.createContext(i);function t(e){const r=d.useContext(n);return d.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),d.createElement(n.Provider,{value:r},e.children)}},44019:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>c,contentTitle:()=>l,default:()=>x,frontMatter:()=>t,metadata:()=>d,toc:()=>h});const d=JSON.parse('{"id":"applikasjon-utrulling/skipctl/manifests","title":"Manifester","description":"Her har du en oversikt over ulike kommandoer som kan hjelpe n\xe5r du jobber med skiperator manifester i ditt apps-repo.","source":"@site/docs/03-applikasjon-utrulling/05-skipctl/02-manifests.md","sourceDirName":"03-applikasjon-utrulling/05-skipctl","slug":"/applikasjon-utrulling/skipctl/manifests","permalink":"/docs/applikasjon-utrulling/skipctl/manifests","draft":false,"unlisted":false,"editUrl":"https://github.com/kartverket/skip-docs/edit/main/docs/03-applikasjon-utrulling/05-skipctl/02-manifests.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Kom i gang","permalink":"/docs/applikasjon-utrulling/skipctl/get-started"},"next":{"title":"Nettverkstesting","permalink":"/docs/applikasjon-utrulling/skipctl/network-troubleshooting"}}');var i=s(74848),n=s(28453);const t={},l="Manifester",c={},h=[{value:"Globalt",id:"globalt",level:2},{value:"Diff",id:"diff",level:2},{value:"Validate",id:"validate",level:2},{value:"Render",id:"render",level:2},{value:"Format",id:"format",level:2}];function j(e){const r={code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"manifester",children:"Manifester"})}),"\n",(0,i.jsx)(r.p,{children:"Her har du en oversikt over ulike kommandoer som kan hjelpe n\xe5r du jobber med skiperator manifester i ditt apps-repo.\nKommandoene skal gj\xf8re lokal utvikling enklere, men de kan ogs\xe5 brukes i github workflows."}),"\n",(0,i.jsx)(r.h2,{id:"globalt",children:"Globalt"}),"\n",(0,i.jsx)(r.p,{children:"Felles for alle manifest-kommandoer."}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Flagg"})}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Flagg"}),(0,i.jsx)(r.th,{children:"Type"}),(0,i.jsx)(r.th,{children:"Standardverdi"}),(0,i.jsx)(r.th,{children:"Tillatte verdier"}),(0,i.jsx)(r.th,{children:"Effekt"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.code,{children:"--output"}),", ",(0,i.jsx)(r.code,{children:"-o"})]}),(0,i.jsx)(r.td,{children:"string"}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"text"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.code,{children:"text"}),", ",(0,i.jsx)(r.code,{children:"json"})]}),(0,i.jsx)(r.td,{children:"Velger loggformat for logger."})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"--debug"})}),(0,i.jsx)(r.td,{children:"bool"}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"false"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.code,{children:"true"}),", ",(0,i.jsx)(r.code,{children:"false"})]}),(0,i.jsx)(r.td,{children:"Aktiverer debug-logging."})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.code,{children:"--path"}),", ",(0,i.jsx)(r.code,{children:"-p"})]}),(0,i.jsx)(r.td,{children:"string"}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"."})}),(0,i.jsx)(r.td,{children:"Valgfri sti"}),(0,i.jsx)(r.td,{children:"Angir hvor manifestene leses fra."})]})]})]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"diff",children:"Diff"}),"\n",(0,i.jsx)(r.p,{children:"Sammenligner lokale manifest mot en git ref."}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Eksempel bruk"})}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Kommando"}),(0,i.jsx)(r.th,{children:"Handling"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"skipctl manifest diff"})}),(0,i.jsxs)(r.td,{children:["Diff\u2019er mot ",(0,i.jsx)(r.code,{children:"HEAD"})," i pretty/full som default."]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"skipctl manifest diff --diff-format patch --ref main"})}),(0,i.jsxs)(r.td,{children:["Patch-format, automatisk ",(0,i.jsx)(r.code,{children:"verbosity=chunk"}),"."]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"skipctl manifest diff --verbosity minimal --diff-format json"})}),(0,i.jsx)(r.td,{children:"JSON-format, eksplisitt minimal verbosity."})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"skipctl manifest diff --chunk-size 5"})}),(0,i.jsx)(r.td,{children:"\xd8ker kontekst til 5 linjer per side."})]})]})]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Flagg"})}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Flagg"}),(0,i.jsx)(r.th,{children:"Type"}),(0,i.jsx)(r.th,{children:"Standardverdi"}),(0,i.jsx)(r.th,{children:"Tillatte verdier"}),(0,i.jsx)(r.th,{children:"Effekt"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"--ref"})}),(0,i.jsx)(r.td,{children:"string"}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"HEAD"})}),(0,i.jsx)(r.td,{children:"Gyldig git-ref (commit SHA, branch)"}),(0,i.jsx)(r.td,{children:"Angir hvilken git-ref det diffes mot."})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"--verbosity"})}),(0,i.jsx)(r.td,{children:"string"}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"full"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.code,{children:"minimal"}),", ",(0,i.jsx)(r.code,{children:"chunk"}),", ",(0,i.jsx)(r.code,{children:"full"})]}),(0,i.jsx)(r.td,{children:"Styrer mengde kontekst i diff-output."})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"--chunk-size"})}),(0,i.jsx)(r.td,{children:"int"}),(0,i.jsx)(r.td,{children:"3"}),(0,i.jsx)(r.td,{children:"Heltall \u2265 0"}),(0,i.jsx)(r.td,{children:"Antall linjer kontekst over/under endret linje."})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"--diff-format"})}),(0,i.jsx)(r.td,{children:"string"}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"pretty"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.code,{children:"pretty"}),", ",(0,i.jsx)(r.code,{children:"patch"}),", ",(0,i.jsx)(r.code,{children:"json"})]}),(0,i.jsx)(r.td,{children:"Velger output-format for diff."})]})]})]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsxs)(r.strong,{children:["Automatisk standard for ",(0,i.jsx)(r.code,{children:"--verbosity"})," basert p\xe5 ",(0,i.jsx)(r.code,{children:"--diff-format"})]})}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"diff-format"}),(0,i.jsx)(r.th,{children:"verbosity"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"pretty"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"full"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"patch"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"chunk"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"json"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"full"})})]})]})]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Verbosity niv\xe5"})}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"verbosity"}),(0,i.jsx)(r.th,{children:"Beskrivelse"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"minimal"})}),(0,i.jsx)(r.td,{children:"Kun endrede linjer"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"chunk"})}),(0,i.jsxs)(r.td,{children:["Endrede linjer med kontekst (3 linjer over/under som utgangspunkt; p\xe5virkes av ",(0,i.jsx)(r.code,{children:"--chunk-size"}),")"]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"full"})}),(0,i.jsx)(r.td,{children:"Hele filen"})]})]})]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Eksempel bruk"})}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Kommando"}),(0,i.jsx)(r.th,{children:"Handling"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"skipctl manifest diff"})}),(0,i.jsxs)(r.td,{children:["Diff\u2019er mot ",(0,i.jsx)(r.code,{children:"HEAD"})," i pretty/full som default."]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"skipctl manifest diff --diff-format patch --ref main"})}),(0,i.jsxs)(r.td,{children:["Patch-format, automatisk ",(0,i.jsx)(r.code,{children:"verbosity=chunk"}),"."]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"skipctl manifest diff --verbosity minimal --diff-format json"})}),(0,i.jsx)(r.td,{children:"JSON-format, eksplisitt minimal verbosity."})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"skipctl manifest diff --chunk-size 5"})}),(0,i.jsx)(r.td,{children:"\xd8ker kontekst til 5 linjer per side."})]})]})]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"validate",children:"Validate"}),"\n",(0,i.jsx)(r.p,{children:"Validerer manifestfiler mot kjente Kubernetes-skjema, oppsummerer resultater og rydder opp midlertidige filer."}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Eksempel bruk"})}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Kommando"}),(0,i.jsx)(r.th,{children:"Handling"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"skipctl manifest validate"})}),(0,i.jsx)(r.td,{children:"Validerer alle manifester i n\xe5v\xe6rende katalog."})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"skipctl manifest validate -p ./k8s"})}),(0,i.jsx)(r.td,{children:"Validerer alle manifester under ./k8s."})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"cat manifest.jsonnet | skipctl manifest validate -"})}),(0,i.jsx)(r.td,{children:"Validerer manifest fra stdin."})]})]})]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Output (oppsummering)"})}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Felt"}),(0,i.jsx)(r.th,{children:"Beskrivelse"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"totalResources"})}),(0,i.jsx)(r.td,{children:"Totalt antall ressurser prosessert"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"valid"})}),(0,i.jsx)(r.td,{children:"Antall gyldige"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"invalid"})}),(0,i.jsx)(r.td,{children:"Antall ugyldige"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"errors"})}),(0,i.jsx)(r.td,{children:"Antall feil under validering"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"skipped"})}),(0,i.jsx)(r.td,{children:"Antall hoppet over"})]})]})]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"render",children:"Render"}),"\n",(0,i.jsx)(r.p,{children:"Renderer manifestfiler og skriver gyldig output til stdout. Feil g\xe5r til stderr."}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Eksempel bruk"})}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Kommando"}),(0,i.jsx)(r.th,{children:"Handling"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"skipctl manifest render"})}),(0,i.jsx)(r.td,{children:"Renderer alle manifester i n\xe5v\xe6rende katalog."})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"skipctl manifest render -p ./manifests"})}),(0,i.jsx)(r.td,{children:"Renderer alle manifester under ./manifests."})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"cat manifest.jsonnet | skipctl manifest render -"})}),(0,i.jsx)(r.td,{children:"Leser manifest fra stdin og renderer til stdout."})]})]})]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"format",children:"Format"}),"\n",(0,i.jsx)(r.p,{children:"Formaterer manifestfiler i stedet (\u201cin place\u201d) eller fra stdin til stdout."}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Eksempel bruk"})}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Kommando"}),(0,i.jsx)(r.th,{children:"Handling"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"skipctl manifest format"})}),(0,i.jsx)(r.td,{children:"Formaterer alle manifester i n\xe5v\xe6rende katalog rekursivt."})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"skipctl manifest format -p ./k8s"})}),(0,i.jsx)(r.td,{children:"Formaterer alle manifester under ./k8s."})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"cat manifest.jsonnet | skipctl manifest format -"})}),(0,i.jsx)(r.td,{children:"Leser fra stdin, skriver formatert til stdout."})]})]})]})]})}function x(e={}){const{wrapper:r}={...(0,n.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(j,{...e})}):j(e)}}}]);