"use strict";(self.webpackChunkskip_docs=self.webpackChunkskip_docs||[]).push([[5909],{24554:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"applikasjon-utrulling/sjekkliste-f\xf8r-internett-eksponering","title":"Sjekkliste f\xf8r internetteksponering","description":"Denne siden er under utarbeidelse og er et samarbeid mellom utvikling og sikkerhet","source":"@site/docs/03-applikasjon-utrulling/03-sjekkliste-f\xf8r-internett-eksponering.md","sourceDirName":"03-applikasjon-utrulling","slug":"/applikasjon-utrulling/sjekkliste-f\xf8r-internett-eksponering","permalink":"/docs/applikasjon-utrulling/sjekkliste-f\xf8r-internett-eksponering","draft":false,"unlisted":false,"editUrl":"https://github.com/kartverket/skip-docs/edit/main/docs/03-applikasjon-utrulling/03-sjekkliste-f\xf8r-internett-eksponering.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Oppsett og bruk av Google Secret Manager","permalink":"/docs/applikasjon-utrulling/oppsett-og-bruk-av-secret-manager"},"next":{"title":"\ud83e\udd16 Skiperator","permalink":"/docs/applikasjon-utrulling/skiperator/"}}');var s=r(74848),i=r(28453);const o={},l="Sjekkliste f\xf8r internetteksponering",a={},d=[];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",header:"header",li:"li",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"sjekkliste-f\xf8r-internetteksponering",children:"Sjekkliste f\xf8r internetteksponering"})}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsx)(n.p,{children:"Denne siden er under utarbeidelse og er et samarbeid mellom utvikling og sikkerhet"})}),"\n",(0,s.jsx)(n.p,{children:"For \xe5 eksponere en applikasjon som kj\xf8rer p\xe5 SKIP mot internett m\xe5 man:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Opprette en DNS-record som ikke er under statkart.no-domenet, f.eks. ",(0,s.jsx)(n.code,{children:"applikasjonX.kartverket.no"})," . Det gj\xf8res ved \xe5 opprette en ticket i ",(0,s.jsx)(n.a,{href:"https://kartverket.pureservice.com/",children:"PureService"})," og be om at dette domenet skal ha et CNAME som peker mot SKIP-lastbalansereren (atkv3-prod.kartverket.cloud for on-prem og atgcp1-prod.kartverket.cloud for sky)"]}),"\n",(0,s.jsxs)(n.li,{children:["Legge til det nye domenenavnet under ",(0,s.jsx)(n.code,{children:"ingresses"})," i ",(0,s.jsx)(n.a,{href:"https://github.com/kartverket/skiperator?tab=readme-ov-file#application-reference",children:"Skiperator-manifestet"})," eller ",(0,s.jsx)(n.code,{children:"hostname"})," for ",(0,s.jsx)(n.a,{href:"https://github.com/kartverket/skiperator?tab=readme-ov-file#routing-reference",children:"Routing-manifestet"})," , slik at applikasjonen registrerer seg mot ekstern ingress gateway"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"F\xf8r dette kan gj\xf8res m\xe5 man g\xe5 igjennom denne sjekklisten:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Gj\xf8r dere kjent med ",(0,s.jsx)(n.a,{href:"https://kartverket.atlassian.net/wiki/spaces/SIK/pages/599130113/Overordnede+f+ringer",children:"Overordnede f\xf8ringer"})," og spesielt ",(0,s.jsx)(n.a,{href:"https://kartverket.atlassian.net/wiki/spaces/SIK/pages/770113537/Ansvarsfordeling",children:"Ansvarsfordeling"})," fra Sikkerhetsh\xe5ndboka"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Opprett metadata i GitHub-repoene tilknyttet applikasjonen i henhold til ",(0,s.jsx)(n.a,{href:"https://kartverket.atlassian.net/wiki/spaces/SIK/pages/732397586/Sikkerhet+i+repoet",children:"sikkerhet i repoet"}),". Dette sikrer at applikasjonen blir integrert i Utviklerportalen og f\xe5r tilgang til sikkerhetsmetrikker."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Foranalyse m\xe5 v\xe6re gjennomf\xf8rt (det kommer l\xf8ype for dette i PureService)"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Det er gjort IP (Innledende Personvernsvurdering) og eventuelt DPIA. Kopier malen ",(0,s.jsx)(n.a,{href:"https://kartverket.atlassian.net/wiki/spaces/PER/pages/436338719/IP+DPIA+og+ROS-analyse+for+det+som+vurderes+.+IKKE+SKRIV+INN+I+MALEN+men+kopier+sidene.",children:"IP, DPIA og ROS-analyse for [det som vurderes]"})," til deres omr\xe5de og fyll ut informasjonen der."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"ROS-analyse gjennomf\xf8rt og godkjent av risikoeier/systemeier"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Codeowners definert i koderepo ",(0,s.jsx)(n.a,{href:"https://kartverket.atlassian.net/wiki/spaces/SIK/pages/561348667/CODEOWNERS",children:"CODEOWNERS"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Gjennomf\xf8rt initiell penetrasjonstesting (hvem og hvordan?) eller manuell avsjekk med SKIP rundt konfigurasjon"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"F\xf8lgende headere blir sendt p\xe5 alle kall:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://scotthelme.co.uk/hsts-the-missing-link-in-tls/",children:"HTTP Strict Transport Security"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://scotthelme.co.uk/content-security-policy-an-introduction/",children:"Content Security Policy"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://scotthelme.co.uk/hardening-your-http-response-headers/#x-frame-options",children:"X-Frame-Options"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://scotthelme.co.uk/hardening-your-http-response-headers/#x-content-type-options",children:"X-Content-Type-Options"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://scotthelme.co.uk/a-new-security-header-referrer-policy/",children:"Referrer Policy"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://scotthelme.co.uk/goodbye-feature-policy-and-hello-permissions-policy/",children:"Permissions Policy"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["N\xe5r appen er eksponert skal sikkerhetsheaders testes med ",(0,s.jsx)(n.a,{href:"https://securityheaders.com/",children:"https://securityheaders.com"})," og ",(0,s.jsx)(n.a,{href:"https://observatory.mozilla.org/",children:"https://observatory.mozilla.org"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Monitorering og varsling er satt opp i ",(0,s.jsx)(n.a,{href:"https://monitoring.kartverket.cloud",children:"Grafana"}),", og vaktlaget er onboardet disse alarmene"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/observability/metrikker",children:"Metrics with Grafana"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/observability/logs-with-Loki",children:"Logs with Loki"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/observability/alerting-with-grafana",children:"Alerting with Grafana"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Denne sjekklisten gjelder eksponering av tjenester som skal v\xe6re tilgjengelig p\xe5 internett, uavhengig av milj\xf8 (prod/dev). Hvis man har behov for \xe5 eksponere en applikasjon eksternt i dev m\xe5 man i tillegg kontakte SKIP for \xe5 sikre at alle sikkerhetskrav overholdes."}),"\n",(0,s.jsx)(n.p,{children:"Navnekonvensjon for eksternt tilgjengelig domenenavn vil i s\xe5 fall v\xe6re"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"<applikasjonX>.atkv3-dev.kartverket.cloud"}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>l});var t=r(96540);const s={},i=t.createContext(s);function o(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);