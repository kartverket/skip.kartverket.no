(globalThis.webpackChunkskip_docs=globalThis.webpackChunkskip_docs||[]).push([[9772],{49772(e,t,i){"use strict";i.d(t,{pu:()=>mn});var n=i(96540);function s(e,t){return typeof e===t}function r(e,t){return Object.prototype.toString.call(e)===`[object ${t}]`}function o(e,t){try{return e instanceof t}catch(i){return!1}}const a=e=>s(e,"null"),l=e=>s(e,"string"),u=e=>s(e,"number")&&!isNaN(e)||s(e,"bigint"),c=e=>!a(e)&&s(e,"object"),d=e=>s(e,"function"),p=e=>r(e,"Array"),h="undefined"!=typeof Event,g="undefined"!=typeof Error,f=e=>g&&o(e,Error);function m(e){return null==e||(p(e)||l(e)?0===e.length:!!c(e)&&0===Object.keys(e).length)}const v=n.version,b=function(){const e=v.split(".");try{return e[0]?parseInt(e[0],10):null}catch(t){return null}}();w(19),w(18),w(17),w(16);function w(e){return null!==b&&b>=e}n.Component;var y;i(4146);function S(){}!function(e){e[e.OFF=0]="OFF",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e[e.VERBOSE=4]="VERBOSE"}(y||(y={}));const T={debug:S,error:S,info:S,prefix:"Faro",warn:S},E=y.ERROR,k=Object.assign({},console);class x{constructor(){this.unpatchedConsole=k,this.internalLogger=T,this.config={},this.metas={}}logDebug(...e){this.internalLogger.debug(`${this.name}\n`,...e)}logInfo(...e){this.internalLogger.info(`${this.name}\n`,...e)}logWarn(...e){this.internalLogger.warn(`${this.name}\n`,...e)}logError(...e){this.internalLogger.error(`${this.name}\n`,...e)}}class O extends x{constructor(){super(...arguments),this.api={},this.transports={}}}const I="2.2.4";var A,_;!function(e){e.V4="v4",e.V5="v5",e.V6="v6",e.V6_data_router="v6_data_router",e.V7="v7",e.V7_data_router="v7_data_router"}(A||(A={})),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(_||(_={}));const L="session_start",j="session_resume",C="service_name_override";const P="undefined"!=typeof globalThis||"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:void 0;var M;n.Component;!function(e){e.EXCEPTION="exception",e.LOG="log",e.MEASUREMENT="measurement",e.TRACE="trace",e.EVENT="event"}(M||(M={}));const U={[M.EXCEPTION]:"exceptions",[M.LOG]:"logs",[M.MEASUREMENT]:"measurements",[M.TRACE]:"traces",[M.EVENT]:"events"};function D(e={}){return JSON.stringify(null!=e?e:{},function(){const e=new WeakSet;return function(t,i){if(c(i)&&null!==i){if(e.has(i))return null;e.add(i)}return i}}())}function R(e={}){const t={};for(const[i,n]of Object.entries(e))t[i]=c(n)&&null!==n?D(n):String(n);return t}function N(){return Date.now()}function z(){return(new Date).toISOString()}function q(e){return new Date(e).toISOString()}function B(e,t){if(e===t)return!0;if(s(e,"number")&&isNaN(e))return s(t,"number")&&isNaN(t);const i=p(e),n=p(t);if(i!==n)return!1;if(i&&n){const i=e.length;if(i!==t.length)return!1;for(let n=i;0!==n--;)if(!B(e[n],t[n]))return!1;return!0}const r=c(e),o=c(t);if(r!==o)return!1;if(e&&t&&r&&o){const i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(let e of i)if(!n.includes(e))return!1;for(let s of i)if(!B(e[s],t[s]))return!1;return!0}return!1}class F{constructor(){this.subscribers=[]}subscribe(e){return this.subscribers.push(e),{unsubscribe:()=>this.unsubscribe(e)}}unsubscribe(e){this.subscribers=this.subscribers.filter(t=>t!==e)}notify(e){this.subscribers.forEach(t=>t(e))}first(){const e=new F,t=t=>{e.notify(t),i.unsubscribe()},i=this.subscribe(t),n=e.unsubscribe.bind(e);return this.withUnsubscribeOverride(e,n,t)}takeWhile(e){const t=new F,i=n=>{e(n)?t.notify(n):t.unsubscribe(i)};this.subscribe(i);const n=t.unsubscribe.bind(t);return this.withUnsubscribeOverride(t,n,i)}filter(e){const t=new F,i=i=>{e(i)&&t.notify(i)};this.subscribe(i);const n=t.unsubscribe.bind(t);return this.withUnsubscribeOverride(t,n,i)}merge(...e){const t=new F,i=[];e.forEach(e=>{const n=e.subscribe(e=>{t.notify(e)});i.push(n)});const n=t.unsubscribeAll.bind(t);return t.unsubscribe=()=>{i.forEach(e=>e.unsubscribe()),n()},t}withUnsubscribeOverride(e,t,i){return e.unsubscribe=e=>{t(e),this.unsubscribe(i)},e}unsubscribeAll(){this.subscribers=[]}}const $="normal";var V;!function(e){e[e.Started=0]="Started",e[e.Halted=1]="Halted",e[e.Cancelled=2]="Cancelled",e[e.Ended=3]="Ended"}(V||(V={}));const H="abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ0123456789";function W(e=10){return Array.from(Array(e)).map(()=>H[Math.floor(59*Math.random())]).join("")}class G{constructor(){this.buffer=[]}addItem(e){this.buffer.push(e)}flushBuffer(e){if(d(e))for(const t of this.buffer)e(t);this.buffer.length=0}size(){return this.buffer.length}}class K extends F{constructor({name:e,parentId:t,trigger:i,transports:n,attributes:s,trackUserActionsExcludeItem:r,importance:o=$,pushEvent:a}){super(),this.name=e,this.attributes=s,this.id=W(),this.trigger=i,this.parentId=null!=t?t:this.id,this.trackUserActionsExcludeItem=r,this.importance=o,this._pushEvent=a,this._itemBuffer=new G,this._transports=n,this._state=V.Started,this._start()}addItem(e){return this._state===V.Started&&(this._itemBuffer.addItem(e),!0)}_start(){this._state=V.Started,this._state===V.Started&&(this.startTime=N())}halt(){this._state===V.Started&&(this._state=V.Halted,this.notify(this._state))}cancel(){this._state===V.Started&&this._itemBuffer.flushBuffer(e=>{this._transports.execute(e)}),this._state=V.Cancelled,this.notify(this._state)}end(){if(this._state===V.Cancelled)return;const e=N(),t=e-this.startTime;this._state=V.Ended,this._itemBuffer.flushBuffer(e=>{if(function(e,t){return(null==t?void 0:t(e))||e.type===M.MEASUREMENT&&"web-vitals"===e.payload.type}(e,this.trackUserActionsExcludeItem))return void this._transports.execute(e);const t=Object.assign(Object.assign({},e),{payload:Object.assign(Object.assign({},e.payload),{action:{parentId:this.id,name:this.name}})});this._transports.execute(t)}),this._state=V.Ended,this.notify(this._state),this._pushEvent("faro.user.action",Object.assign({userActionName:this.name,userActionStartTime:this.startTime.toString(),userActionEndTime:e.toString(),userActionDuration:t.toString(),userActionTrigger:this.trigger,userActionImportance:this.importance},R(this.attributes)),void 0,{timestampOverwriteMs:this.startTime,customPayloadTransformer:e=>(e.action={id:this.id,name:this.name},e)})}getState(){return this._state}}const X=new F;function J(e,t){if(!e)return!1;return(null==e?void 0:e.getState())===V.Started&&(e.addItem(t),!0)}const Z="Error",Q=e=>e.map(e=>c(e)?D(e):String(e)).join(" ");let Y;function ee({internalLogger:e,config:t,metas:i,transports:n,tracesApi:s,userActionsApi:r}){var o;e.debug("Initializing exceptions API");let u=null;Y=null!==(o=t.parseStacktrace)&&void 0!==o?o:Y;const d=t=>{e.debug("Changing stacktrace parser"),Y=null!=t?t:Y},{ignoreErrors:h=[],preserveOriginalError:g}=t;return d(t.parseStacktrace),{changeStacktraceParser:d,getStacktraceParser:()=>Y,pushError:(o,{skipDedupe:d,stackFrames:v,type:b,context:w,spanContext:y,timestampOverwriteMs:S,originalError:T}={})=>{if(!function(e,t){const{message:i,name:n,stack:s}=t;return r=e,o=i+" "+n+" "+s,r.some(e=>l(e)?o.includes(e):!!o.match(e));var r,o}(h,null!=T?T:o))try{const l=R(Object.assign(Object.assign({},function(e){let t=e.cause;f(t)?t=e.cause.toString():null!==t&&(c(e.cause)||p(e.cause))?t=D(e.cause):null!=t&&(t=e.cause.toString());return null==t?{}:{cause:t}}(null!=T?T:o)),null!=w?w:{})),h={meta:i.value,payload:Object.assign(Object.assign({type:b||o.name||Z,value:o.message,timestamp:S?q(S):z(),trace:y?{trace_id:y.traceId,span_id:y.spanId}:s.getTraceContext()},m(l)?{}:{context:l}),g?{originalError:T}:{}),type:M.EXCEPTION};(null==(v=null!=v?v:o.stack?null==Y?void 0:Y(o).frames:void 0)?void 0:v.length)&&(h.payload.stacktrace={frames:v});const E={type:h.payload.type,value:h.payload.value,stackTrace:h.payload.stacktrace,context:h.payload.context};if(!d&&t.dedupe&&!a(u)&&B(E,u))return void e.debug("Skipping error push because it is the same as the last one\n",h.payload);u=E,e.debug("Pushing exception\n",h),J(r.getActiveUserAction(),h)||n.execute(h)}catch(E){e.error("Error pushing event",E)}}}}var te;!function(e){e.TRACE="trace",e.DEBUG="debug",e.INFO="info",e.LOG="log",e.WARN="warn",e.ERROR="error"}(te||(te={}));const ie=te.LOG,ne=[te.TRACE,te.DEBUG,te.INFO,te.LOG,te.WARN,te.ERROR],se=e=>e.map(e=>{try{return String(e)}catch(t){return""}}).join(" ");function re(e,t,i,n,s){t.debug("Initializing API");let r=null;const o=function({transports:e,internalLogger:t,config:i,pushEvent:n}){var s;const r=null===(s=i.userActionsInstrumentation)||void 0===s?void 0:s.excludeItem;let o;const a=()=>o,l={startUserAction:(i,s,l)=>{if(void 0===a()){const t=new K({name:i,transports:e,attributes:s,trigger:(null==l?void 0:l.triggerName)||"faroApiCall",importance:(null==l?void 0:l.importance)||$,trackUserActionsExcludeItem:r,pushEvent:n});return t.filter(e=>[V.Ended,V.Cancelled].includes(e)).first().subscribe(()=>{o=void 0}),X.notify({type:"user_action_start",userAction:t}),o=t,o}t.error("Attempted to create a new user action while one is already running. This is not possible.")},getActiveUserAction:a};return l}({transports:s,config:i,internalLogger:t,pushEvent:(e,i,n,s)=>{r?r(e,i,n,s):t.warn("pushEventImpl is not initialized. Event dropped:",{name:e,attributes:i,domain:n,options:s})}}),u=function(e,t,i,n,s){let r;return t.debug("Initializing traces API"),{getOTEL:()=>r,getTraceContext:()=>{const e=null==r?void 0:r.trace.getSpanContext(r.context.active());return e?{trace_id:e.traceId,span_id:e.spanId}:void 0},initOTEL:(e,i)=>{t.debug("Initializing OpenTelemetry"),r={trace:e,context:i}},isOTELInitialized:()=>!!r,pushTraces:e=>{try{const i={type:M.TRACE,payload:e,meta:n.value};t.debug("Pushing trace\n",i),s.execute(i)}catch(i){t.error("Error pushing trace\n",i)}}}}(0,t,0,n,s),c={unpatchedConsole:e,internalLogger:t,userActionsApi:o,config:i,metas:n,transports:s,tracesApi:u},d=function({internalLogger:e,config:t,metas:i,transports:n,tracesApi:s,userActionsApi:r}){let o=null;return{pushEvent:(l,u,c,{skipDedupe:d,spanContext:p,timestampOverwriteMs:h,customPayloadTransformer:g=e=>e}={})=>{try{const f=R(u),v={meta:i.value,payload:g({name:l,domain:null!=c?c:t.eventDomain,attributes:m(f)?void 0:f,timestamp:h?q(h):z(),trace:p?{trace_id:p.traceId,span_id:p.spanId}:s.getTraceContext()}),type:M.EVENT},b={name:v.payload.name,attributes:v.payload.attributes,domain:v.payload.domain};if(!d&&t.dedupe&&!a(o)&&B(b,o))return void e.debug("Skipping event push because it is the same as the last one\n",v.payload);o=b,e.debug("Pushing event\n",v),J(r.getActiveUserAction(),v)||n.execute(v)}catch(f){e.error("Error pushing event",f)}}}}(c);return r=d.pushEvent,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},u),ee(c)),function({internalLogger:e,metas:t}){let i,n,s,r;e.debug("Initializing meta API");const o=e=>{n&&t.remove(n),n={user:e},t.add(n)},a=(e,n)=>{var s;const r=null==n?void 0:n.overrides,o=r?{overrides:Object.assign(Object.assign({},null===(s=null==i?void 0:i.session)||void 0===s?void 0:s.overrides),r)}:{};i&&t.remove(i),i={session:Object.assign(Object.assign({},m(e)?void 0:e),o)},t.add(i)},u=()=>t.value.session,c=()=>t.value.page;return{setUser:o,resetUser:o,setSession:a,resetSession:a,getSession:u,setView:(e,i)=>{var n;if((null==i?void 0:i.overrides)&&a(u(),{overrides:i.overrides}),(null===(n=null==s?void 0:s.view)||void 0===n?void 0:n.name)===(null==e?void 0:e.name))return;const r=s;s={view:e},t.add(s),r&&t.remove(r)},getView:()=>t.value.view,setPage:e=>{var i;const n=l(e)?Object.assign(Object.assign({},null!==(i=null==r?void 0:r.page)&&void 0!==i?i:c()),{id:e}):e;r&&t.remove(r),r={page:n},t.add(r)},getPage:c}}(c)),function({internalLogger:e,config:t,metas:i,transports:n,tracesApi:s,userActionsApi:r}){var o;e.debug("Initializing logs API");let l=null;const u=null!==(o=t.logArgsSerializer)&&void 0!==o?o:se;return{pushLog:(o,{context:c,level:d,skipDedupe:p,spanContext:h,timestampOverwriteMs:g}={})=>{try{const f=R(c),v={type:M.LOG,payload:{message:u(o),level:null!=d?d:ie,context:m(f)?void 0:f,timestamp:g?q(g):z(),trace:h?{trace_id:h.traceId,span_id:h.spanId}:s.getTraceContext()},meta:i.value},b={message:v.payload.message,level:v.payload.level,context:v.payload.context};if(!p&&t.dedupe&&!a(l)&&B(b,l))return void e.debug("Skipping log push because it is the same as the last one\n",v.payload);l=b,e.debug("Pushing log\n",v),J(r.getActiveUserAction(),v)||n.execute(v)}catch(f){e.error("Error pushing log\n",f)}}}}(c)),function({internalLogger:e,config:t,metas:i,transports:n,tracesApi:s,userActionsApi:r}){e.debug("Initializing measurements API");let o=null;return{pushMeasurement:(l,{skipDedupe:u,context:c,spanContext:d,timestampOverwriteMs:p}={})=>{try{const h=R(c),g={type:M.MEASUREMENT,payload:Object.assign(Object.assign({},l),{trace:d?{trace_id:d.traceId,span_id:d.spanId}:s.getTraceContext(),timestamp:p?q(p):z(),context:m(h)?void 0:h}),meta:i.value},f={type:g.payload.type,values:g.payload.values,context:g.payload.context};if(!u&&t.dedupe&&!a(o)&&B(f,o))return void e.debug("Skipping measurement push because it is the same as the last one\n",g.payload);o=f,e.debug("Pushing measurement\n",g),J(r.getActiveUserAction(),g)||n.execute(g)}catch(h){e.error("Error pushing measurement\n",h)}}}}(c)),d),o)}function oe(e=k,t=E){const i=T;return t>y.OFF&&(i.error=t>=y.ERROR?function(...t){e.error(`${i.prefix}\n`,...t)}:S,i.warn=t>=y.WARN?function(...t){e.warn(`${i.prefix}\n`,...t)}:S,i.info=t>=y.INFO?function(...t){e.info(`${i.prefix}\n`,...t)}:S,i.debug=t>=y.VERBOSE?function(...t){e.debug(`${i.prefix}\n`,...t)}:S),i}let ae=T;const le="_faroInternal";let ue={};function ce(e,t,i,n,s,r,o){return t.debug("Initializing Faro"),ue={api:r,config:i,instrumentations:o,internalLogger:t,metas:n,pause:s.pause,transports:s,unpatchedConsole:e,unpause:s.unpause},function(e){e.config.isolate?e.internalLogger.debug("Skipping registering internal Faro instance on global object"):(e.internalLogger.debug("Registering internal Faro instance on global object"),Object.defineProperty(P,le,{configurable:!1,enumerable:!1,writable:!1,value:e}))}(ue),function(e){if(e.config.preventGlobalExposure)e.internalLogger.debug("Skipping registering public Faro instance in the global scope");else{if(e.internalLogger.debug(`Registering public faro reference in the global scope using "${e.config.globalObjectKey}" key`),e.config.globalObjectKey in P)return void e.internalLogger.warn(`Skipping global registration due to key "${e.config.globalObjectKey}" being used already. Please set "globalObjectKey" to something else or set "preventGlobalExposure" to "true"`);Object.defineProperty(P,e.config.globalObjectKey,{configurable:!1,writable:!1,value:e})}}(ue),ue}class de{constructor(e,t){var i,n;this.signalBuffer=[],this.itemLimit=null!==(i=null==t?void 0:t.itemLimit)&&void 0!==i?i:50,this.sendTimeout=null!==(n=null==t?void 0:t.sendTimeout)&&void 0!==n?n:250,this.paused=(null==t?void 0:t.paused)||!1,this.sendFn=e,this.flushInterval=-1,this.paused||this.start(),document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&this.flush()})}addItem(e){this.paused||(this.signalBuffer.push(e),this.signalBuffer.length>=this.itemLimit&&this.flush())}start(){this.paused=!1,this.sendTimeout>0&&(this.flushInterval=window.setInterval(()=>this.flush(),this.sendTimeout))}pause(){this.paused=!0,clearInterval(this.flushInterval)}groupItems(e){const t=new Map;return e.forEach(e=>{const i=JSON.stringify(e.meta);let n=t.get(i);n=void 0===n?[e]:[...n,e],t.set(i,n)}),Array.from(t.values())}flush(){if(this.paused||0===this.signalBuffer.length)return;this.groupItems(this.signalBuffer).forEach(this.sendFn),this.signalBuffer=[]}}function pe(e,t,i,n){var s;t.debug("Initializing transports");const r=[];let o=i.paused,a=[];const l=e=>{let t=e;for(const n of a){const e=t.map(n).filter(Boolean);if(0===e.length)return[];t=he(e,i)}return t},u=e=>{const i=l(e);if(0!==i.length)for(const n of r)t.debug(`Transporting item using ${n.name}\n`,i),n.isBatched()&&n.send(i)};let c;(null===(s=i.batching)||void 0===s?void 0:s.enabled)&&(c=new de(u,{sendTimeout:i.batching.sendTimeout,itemLimit:i.batching.itemLimit,paused:o}));return{add:(...s)=>{t.debug("Adding transports"),s.forEach(s=>{t.debug(`Adding "${s.name}" transport`);r.some(e=>e===s)?t.warn(`Transport ${s.name} is already added`):(s.unpatchedConsole=e,s.internalLogger=t,s.config=i,s.metas=n,r.push(s))})},addBeforeSendHooks:(...e)=>{t.debug("Adding beforeSendHooks\n",a),e.forEach(e=>{e&&a.push(e)})},getBeforeSendHooks:()=>[...a],execute:e=>{var n;o||((null===(n=i.batching)||void 0===n?void 0:n.enabled)&&(null==c||c.addItem(e)),(e=>{var n,s;if((null===(n=i.batching)||void 0===n?void 0:n.enabled)&&r.every(e=>e.isBatched()))return;const[o]=l([e]);if(void 0!==o)for(const a of r)t.debug(`Transporting item using ${a.name}\n`,o),a.isBatched()?(null===(s=i.batching)||void 0===s?void 0:s.enabled)||a.send([o]):a.send(o)})(e))},isPaused:()=>o,pause:()=>{t.debug("Pausing transports"),null==c||c.pause(),o=!0},remove:(...e)=>{t.debug("Removing transports"),e.forEach(e=>{t.debug(`Removing "${e.name}" transport`);const i=r.indexOf(e);-1!==i?r.splice(i,1):t.warn(`Transport "${e.name}" is not added`)})},removeBeforeSendHooks:(...e)=>{a.filter(t=>!e.includes(t))},get transports(){return[...r]},unpause:()=>{t.debug("Unpausing transports"),null==c||c.start(),o=!1}}}function he(e,t){if(t.preserveOriginalError)for(const i of e)i.type===M.EXCEPTION&&delete i.payload.originalError;return e}let ge=k;function fe(e){var t;return ge=null!==(t=e.unpatchedConsole)&&void 0!==t?t:ge,ge}function me(e){const t=fe(e),i=function(e,t){return ae=oe(e,t.internalLoggerLevel),ae}(t,e);if(le in P&&!e.isolate)return void i.error('Faro is already registered. Either add instrumentations, transports etc. to the global faro instance or use the "isolate" property');i.debug("Initializing");const n=function(e,t){let i=[],n=[];const s=()=>i.reduce((e,t)=>Object.assign(e,d(t)?t():t),{}),r=()=>{if(n.length){const e=s();n.forEach(t=>t(e))}};return{add:(...e)=>{t.debug("Adding metas\n",e),i.push(...e),r()},remove:(...e)=>{t.debug("Removing metas\n",e),i=i.filter(t=>!e.includes(t)),r()},addListener:e=>{t.debug("Adding metas listener\n",e),n.push(e)},removeListener:e=>{t.debug("Removing metas listener\n",e),n=n.filter(t=>t!==e)},get value(){return s()}}}(0,i),s=pe(t,i,e,n),r=re(t,i,e,n,s),o=function(e,t,i,n,s,r){t.debug("Initializing instrumentations");const o=[];return{add:(...a)=>{t.debug("Adding instrumentations"),a.forEach(a=>{t.debug(`Adding "${a.name}" instrumentation`),o.some(e=>e.name===a.name)?t.warn(`Instrumentation ${a.name} is already added`):(a.unpatchedConsole=e,a.internalLogger=t,a.config=i,a.metas=n,a.transports=s,a.api=r,o.push(a),a.initialize())})},get instrumentations(){return[...o]},remove:(...e)=>{t.debug("Removing instrumentations"),e.forEach(e=>{var i,n;t.debug(`Removing "${e.name}" instrumentation`);const s=o.reduce((t,i,n)=>null===t&&i.name===e.name?n:null,null);null!==s?(null===(n=(i=o[s]).destroy)||void 0===n||n.call(i),o.splice(s,1)):t.warn(`Instrumentation "${e.name}" is not added`)})}}}(t,i,e,n,s,r),a=ce(t,i,e,n,s,r,o);return function(e){var t,i;const n={sdk:{version:I,name:"faro"},app:{bundleId:e.config.app.name&&(s=e.config.app.name,null==P?void 0:P[`__faroBundleId_${s}`])}};var s;const r=null===(t=e.config.sessionTracking)||void 0===t?void 0:t.session;r&&e.api.setSession(r),e.config.app&&(n.app=Object.assign(Object.assign({},e.config.app),n.app)),e.config.user&&(n.user=e.config.user),e.config.view&&(n.view=e.config.view),e.metas.add(n,...null!==(i=e.config.metas)&&void 0!==i?i:[])}(a),function(e){e.transports.add(...e.config.transports),e.transports.addBeforeSendHooks(e.config.beforeSend)}(a),function(e){e.instrumentations.add(...e.config.instrumentations)}(a),a}const ve="faro",be={enabled:!0,sendTimeout:250,itemLimit:50},we="browser",ye=/^\s*at (?:(?![a-z]+:\/\/)([^(]+?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Se=/\((\S*)(?::(\d+))(?::(\d+))\)/,Te="address at ",Ee=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,ke=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,xe="safari-extension",Oe="safari-web-extension",Ie=/Minified React error #\d+;/i;function Ae(e,t,i,n){const s={filename:e||document.location.href,function:t||"?"};return void 0!==i&&(s.lineno=i),void 0!==n&&(s.colno=n),s}function _e(e,t){const i=null==e?void 0:e.includes(xe),n=!i&&(null==e?void 0:e.includes(Oe));return i||n?[(null==e?void 0:e.includes("@"))?e.split("@")[0]:e,i?`${xe}:${t}`:`${Oe}:${t}`]:[e,t]}function Le(e){let t=[];e.stacktrace?t=e.stacktrace.split("\n").filter((e,t)=>t%2==0):e.stack&&(t=e.stack.split("\n"));const i=t.reduce((t,i,n)=>{let s,r,o,a,l;if(s=ye.exec(i)){if(r=s[1],o=s[2],a=s[3],l=s[4],null==o?void 0:o.startsWith("eval")){const e=Se.exec(o);e&&(o=e[1],a=e[2],l=e[3])}o=(null==o?void 0:o.startsWith(Te))?o.substring(11):o,[r,o]=_e(r,o)}else if(s=Ee.exec(i)){if(r=s[1],o=s[3],a=s[4],l=s[5],o&&o.includes(" > eval")){const e=ke.exec(o);e&&(r=r||"eval",o=e[1],a=e[2])}else 0===n&&!l&&u(e.columnNumber)&&(l=String(e.columnNumber+1));[r,o]=_e(r,o)}return(o||r)&&t.push(Ae(o,r,a?Number(a):void 0,l?Number(l):void 0)),t},[]);return Ie.test(e.message)?i.slice(1):i}function je(e){return{frames:Le(e)}}const Ce="com.grafana.faro.session",Pe=9e5,Me={enabled:!0,persistent:!1,maxSessionPersistenceTime:Pe};var Ue=i(77232);const De="unknown",Re=()=>{const e=new Ue.UAParser,{name:t,version:i}=e.getBrowser(),{name:n,version:s}=e.getOS(),r=e.getUA(),o=navigator.language,a=navigator.userAgent.includes("Mobi"),l=function(){if(!t||!i)return;if("userAgentData"in navigator&&navigator.userAgentData)return navigator.userAgentData.brands;return}();return{browser:{name:null!=t?t:De,version:null!=i?i:De,os:`${null!=n?n:De} ${null!=s?s:De}`,userAgent:null!=r?r:De,language:null!=o?o:De,mobile:a,brands:null!=l?l:De,viewportWidth:`${window.innerWidth}`,viewportHeight:`${window.innerHeight}`}}},Ne=()=>({sdk:{name:"faro-web",version:I}}),ze=()=>{const e=window.k6;return{k6:Object.assign({isK6Browser:!0},(null==e?void 0:e.testRunId)&&{testRunId:null==e?void 0:e.testRunId})}};let qe,Be;function Fe({generatePageId:e,initialPageMeta:t}={}){return()=>{const i=location.href;return d(e)&&qe!==i&&(qe=i,Be=e(location)),{page:Object.assign(Object.assign({url:i},Be?{id:Be}:{}),t)}}}class $e extends x{isBatched(){return!1}getIgnoreUrls(){return[]}}function Ve(e,t){var i,n;if(void 0===t)return e;if(void 0===e)return{resourceSpans:t};const s=null===(i=e.resourceSpans)||void 0===i?void 0:i[0];if(void 0===s)return e;const r=(null==s?void 0:s.scopeSpans)||[],o=(null===(n=null==t?void 0:t[0])||void 0===n?void 0:n.scopeSpans)||[];return Object.assign(Object.assign({},e),{resourceSpans:[Object.assign(Object.assign({},s),{scopeSpans:[...r,...o]})]})}function He(e,t){let i,n=!1;const s=()=>{null!=i?(e(...i),i=null,setTimeout(s,t)):n=!1};return(...r)=>{n?i=r:(e(...r),n=!0,setTimeout(s,t))}}const We="sessionStorage",Ge="localStorage";function Ke(e){var t;try{let t;t=window[e];const i="__faro_storage_test__";return t.setItem(i,i),t.removeItem(i),!0}catch(i){return null===(t=ue.internalLogger)||void 0===t||t.info(`Web storage of type ${e} is not available. Reason: ${i}`),!1}}function Xe(e,t){return et(t)?window[t].getItem(e):null}function Je(e,t,i){if(et(i))try{window[i].setItem(e,t)}catch(n){}}function Ze(e,t){et(t)&&window[t].removeItem(e)}const Qe=Ke(Ge),Ye=Ke(We);function et(e){return e===Ge?Qe:e===We&&Ye}function tt(){var e,t,i;const n=ue.config.sessionTracking;let s=null!==(i=null!==(t=null===(e=null==n?void 0:n.sampler)||void 0===e?void 0:e.call(n,{metas:ue.metas.value}))&&void 0!==t?t:null==n?void 0:n.samplingRate)&&void 0!==i?i:1;if("number"!=typeof s){s=0}return Math.random()<s}function it({sessionId:e,started:t,lastActivity:i,isSampled:n=!0}={}){var s,r;const o=N(),a=null===(r=null===(s=ue.config)||void 0===s?void 0:s.sessionTracking)||void 0===r?void 0:r.generateSessionId;return null==e&&(e="function"==typeof a?a():W()),{sessionId:e,lastActivity:null!=i?i:o,started:null!=t?t:o,isSampled:n}}function nt(e){if(null==e)return!1;const t=N();if(!(t-e.started<144e5))return!1;return t-e.lastActivity<Pe}function st({fetchUserSession:e,storeUserSession:t}){return function({forceSessionExtend:i}={forceSessionExtend:!1}){var n,s,r;if(!e||!t)return;const o=ue.config.sessionTracking,a=null==o?void 0:o.persistent;if(a&&!Qe||!a&&!Ye)return;const l=e();if(!1===i&&nt(l))t(Object.assign(Object.assign({},l),{lastActivity:N()}));else{let e=rt(it({isSampled:tt()}),l);t(e),null===(n=ue.api)||void 0===n||n.setSession(e.sessionMeta),null===(s=null==o?void 0:o.onSessionChange)||void 0===s||s.call(o,null!==(r=null==l?void 0:l.sessionMeta)&&void 0!==r?r:null,e.sessionMeta)}}}function rt(e,t){var i,n,s,r,o,a,l;const u=Object.assign(Object.assign({},e),{sessionMeta:{id:e.sessionId,attributes:Object.assign(Object.assign(Object.assign({},null===(n=null===(i=ue.config.sessionTracking)||void 0===i?void 0:i.session)||void 0===n?void 0:n.attributes),null!==(r=null===(s=ue.metas.value.session)||void 0===s?void 0:s.attributes)&&void 0!==r?r:{}),{isSampled:e.isSampled.toString()})}}),c=null!==(a=null===(o=ue.metas.value.session)||void 0===o?void 0:o.overrides)&&void 0!==a?a:null===(l=null==t?void 0:t.sessionMeta)||void 0===l?void 0:l.overrides;m(c)||(u.sessionMeta.overrides=c);const d=null==t?void 0:t.sessionId;return null!=d&&(u.sessionMeta.attributes.previousSession=d),u}function ot({fetchUserSession:e,storeUserSession:t}){return function(i){const n=i.session,s=e();let r=null==n?void 0:n.id;const o=null==n?void 0:n.attributes,a=null==n?void 0:n.overrides,l=null==s?void 0:s.sessionMeta,u=null==l?void 0:l.overrides,c=!!a&&!B(a,u),d=!!o&&!B(o,null==l?void 0:l.attributes);if(!!n&&r!==(null==s?void 0:s.sessionId)||d||c){const e=rt(it({sessionId:r,isSampled:tt()}),s);t(e),function(e,t={},i={}){var n,s,r;if(!e)return;const o=t.serviceName,a=null!==(r=null!==(n=i.serviceName)&&void 0!==n?n:null===(s=ue.metas.value.app)||void 0===s?void 0:s.name)&&void 0!==r?r:"";o&&o!==a&&ue.api.pushEvent(C,{serviceName:o,previousServiceName:a})}(c,a,u),ue.api.setSession(e.sessionMeta)}}}class at{constructor(){this.updateSession=He(()=>this.updateUserSession(),1e3),this.updateUserSession=st({fetchUserSession:at.fetchUserSession,storeUserSession:at.storeUserSession}),this.init()}static removeUserSession(){Ze(Ce,at.storageTypeLocal)}static storeUserSession(e){Je(Ce,D(e),at.storageTypeLocal)}static fetchUserSession(){const e=Xe(Ce,at.storageTypeLocal);return e?JSON.parse(e):null}init(){document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState&&this.updateSession()}),ue.metas.addListener(ot({fetchUserSession:at.fetchUserSession,storeUserSession:at.storeUserSession}))}}at.storageTypeLocal=Ge;class lt{constructor(){this.updateSession=He(()=>this.updateUserSession(),1e3),this.updateUserSession=st({fetchUserSession:lt.fetchUserSession,storeUserSession:lt.storeUserSession}),this.init()}static removeUserSession(){Ze(Ce,lt.storageTypeSession)}static storeUserSession(e){Je(Ce,D(e),lt.storageTypeSession)}static fetchUserSession(){const e=Xe(Ce,lt.storageTypeSession);return e?JSON.parse(e):null}init(){document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState&&this.updateSession()}),ue.metas.addListener(ot({fetchUserSession:lt.fetchUserSession,storeUserSession:lt.storeUserSession}))}}function ut(e){return(null==e?void 0:e.persistent)?at:lt}lt.storageTypeSession=We;var ct=function(e,t,i,n){return new(i||(i=Promise))(function(s,r){function o(e){try{l(n.next(e))}catch(Yt){r(Yt)}}function a(e){try{l(n.throw(e))}catch(Yt){r(Yt)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})},dt=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i};class pt extends $e{constructor(e){var t,i,n,s;super(),this.options=e,this.name="@grafana/faro-web-sdk:transport-fetch",this.version=I,this.disabledUntil=new Date,this.rateLimitBackoffMs=null!==(t=e.defaultRateLimitBackoffMs)&&void 0!==t?t:5e3,this.getNow=null!==(i=e.getNow)&&void 0!==i?i:()=>Date.now(),this.promiseBuffer=function(e){const{size:t,concurrency:i}=e,n=[];let s=0;const r=()=>{if(s<i&&n.length){const{producer:e,resolve:t,reject:i}=n.shift();s++,e().then(e=>{s--,r(),t(e)},e=>{s--,r(),i(e)})}};return{add:e=>{if(n.length+s>=t)throw new Error("Task buffer full");return new Promise((t,i)=>{n.push({producer:e,resolve:t,reject:i}),r()})}}}({size:null!==(n=e.bufferSize)&&void 0!==n?n:30,concurrency:null!==(s=e.concurrency)&&void 0!==s?s:5})}send(e){return ct(this,void 0,void 0,function*(){try{if(this.disabledUntil>new Date(this.getNow()))return this.logWarn(`Dropping transport item due to too many requests. Backoff until ${this.disabledUntil}`),Promise.resolve();yield this.promiseBuffer.add(()=>{const t=JSON.stringify(function(e){let t={meta:{}};return void 0!==e[0]&&(t.meta=e[0].meta),e.forEach(e=>{switch(e.type){case M.LOG:case M.EVENT:case M.EXCEPTION:case M.MEASUREMENT:{const i=U[e.type],n=t[i];t=Object.assign(Object.assign({},t),{[i]:void 0===n?[e.payload]:[...n,e.payload]});break}case M.TRACE:t=Object.assign(Object.assign({},t),{traces:Ve(t.traces,e.payload.resourceSpans)})}}),t}(e)),{url:i,requestOptions:n,apiKey:s}=this.options,r=null!=n?n:{},{headers:o={}}=r,a=dt(r,["headers"]);let l;const u=this.metas.value.session;null!=u&&(l=u.id);const c={};for(const[e,d]of Object.entries(o))c[e]="function"==typeof d?d():d;return fetch(i,Object.assign({method:"POST",headers:Object.assign(Object.assign(Object.assign({"Content-Type":"application/json"},c),s?{"x-api-key":s}:{}),l?{"x-faro-session-id":l}:{}),body:t,keepalive:t.length<=6e4},null!=a?a:{})).then(e=>ct(this,void 0,void 0,function*(){if(202===e.status){"invalid"===e.headers.get("X-Faro-Session-Status")&&this.extendFaroSession(this.config,this.logDebug)}return 429===e.status&&(this.disabledUntil=this.getRetryAfterDate(e),this.logWarn(`Too many requests, backing off until ${this.disabledUntil}`)),e.text().catch(S),e})).catch(e=>{this.logError("Failed sending payload to the receiver\n",JSON.parse(t),e)})})}catch(t){this.logError(t)}})}getIgnoreUrls(){var e;return[this.options.url].concat(null!==(e=this.config.ignoreUrls)&&void 0!==e?e:[])}isBatched(){return!0}getRetryAfterDate(e){const t=this.getNow(),i=e.headers.get("Retry-After");if(i){const e=Number(i);if(!isNaN(e))return new Date(1e3*e+t);const n=Date.parse(i);if(!isNaN(n))return new Date(n)}return new Date(t+this.rateLimitBackoffMs)}extendFaroSession(e,t){const i="Session expired",n=e.sessionTracking;if(null==n?void 0:n.enabled){const{fetchUserSession:e,storeUserSession:s}=ut(n);st({fetchUserSession:e,storeUserSession:s})({forceSessionExtend:!0}),t(`${i} created new session.`)}else t(`${i}.`)}}const ht="http-request-start",gt="http-request-end";let ft,mt;function vt(){return ft||(ft=new F),mt||(mt=new MutationObserver((e,t)=>{ft.notify({type:"dom-mutation"})}),mt.observe(document,{attributes:!0,childList:!0,subtree:!0,characterData:!0})),ft}function bt(e=""){return ue.transports.transports.flatMap(e=>e.getIgnoreUrls()).some(t=>e&&null!=e.match(t))}const wt="fetch",yt="xhr";let St,Tt,Et,kt=!1;function xt(){if(St)return St;function e(e){St.notify({type:ht,request:e})}function t(e){St.notify({type:gt,request:e})}return St=new F,kt||(!function({onRequestEnd:e,onRequestStart:t}){Et||(Et=window.fetch);window.fetch=function(){var i,n;const s=null!==(i=l(r=arguments[0])?r:r instanceof URL?r.href:!m(r)&&d(null==r?void 0:r.toString)?r.toString():void 0)&&void 0!==i?i:"";var r;const o=bt(s),a=(null!==(n=arguments[1])&&void 0!==n?n:{}).method,u=W();return o||t({url:s,method:a,requestId:u,apiType:wt}),Et.apply(this,arguments).then(t=>(o||e({url:s,method:a,requestId:u,apiType:wt}),t)).catch(t=>{throw o||e({url:s,method:a,requestId:u,apiType:wt}),t})}}({onRequestStart:e,onRequestEnd:t}),function({onRequestStart:e,onRequestEnd:t}){Tt||(Tt=XMLHttpRequest.prototype.open);XMLHttpRequest.prototype.open=function(){const i=arguments[1],n=bt(i),s=arguments[0],r=W();this.addEventListener("loadstart",function(){n||e({url:i,method:s,requestId:r,apiType:yt})}),this.addEventListener("load",function(){n||t({url:i,method:s,requestId:r,apiType:yt})}),this.addEventListener("error",function(){n||t({url:i,method:s,requestId:r,apiType:yt})}),this.addEventListener("abort",function(){n||t({url:i,method:s,requestId:r,apiType:yt})}),Tt.apply(this,arguments)}}({onRequestStart:e,onRequestEnd:t}),kt=!0),St}const Ot="com.grafana.faro.lastNavigationId",It="resource",At=/^00-[a-f0-9]{32}-[a-f0-9]{16}-[0-9]{1,2}$/;function _t(e=[]){for(const t of e)if("traceparent"===t.name){if(!At.test(t.description))continue;const[,e,i]=t.description.split("-");if(null!=e&&null!=i)return{traceId:e,spanId:i};break}}function Lt(e,t={}){for(const[i,n]of Object.entries(t)){const t=e[i];return null!=t&&(p(n)?n.includes(t):t===n)}return!0}function jt(e){const{connectEnd:t,connectStart:i,decodedBodySize:n,domainLookupEnd:s,domainLookupStart:r,duration:o,encodedBodySize:a,fetchStart:l,initiatorType:u,name:c,nextHopProtocol:d,redirectEnd:p,redirectStart:h,renderBlockingStatus:g,requestStart:f,responseEnd:m,responseStart:v,responseStatus:b,secureConnectionStart:w,transferSize:y,workerStart:S}=e;return{name:c,duration:Pt(o),tcpHandshakeTime:Pt(t-i),dnsLookupTime:Pt(s-r),tlsNegotiationTime:Pt(t-w),responseStatus:Pt(b),redirectTime:Pt(p-h),requestTime:Pt(v-f),responseTime:Pt(m-v),fetchTime:Pt(m-l),serviceWorkerTime:Pt(l-S),decodedBodySize:Pt(n),encodedBodySize:Pt(a),cacheHitStatus:function(){let e="fullLoad";0===y?n>0&&(e="cache"):null!=b?304===b&&(e="conditionalFetch"):a>0&&y<a&&(e="conditionalFetch");return e}(),renderBlockingStatus:Pt(g),protocol:d,initiatorType:u,visibilityState:document.visibilityState,ttfb:Pt(v-f),transferSize:Pt(y)}}function Ct(e){const{activationStart:t,domComplete:i,domContentLoadedEventEnd:n,domContentLoadedEventStart:s,domInteractive:r,fetchStart:o,loadEventEnd:a,loadEventStart:l,responseStart:u,type:c}=e,d=function(){var e;if(null!=(null===(e=performance.timing)||void 0===e?void 0:e.domLoading))return performance.timing.domLoading-performance.timeOrigin;return null}();return Object.assign(Object.assign({},jt(e)),{pageLoadTime:Pt(i-o),documentParsingTime:Pt(d?r-d:null),domProcessingTime:Pt(i-r),domContentLoadHandlerTime:Pt(n-s),onLoadTime:Pt(a-l),ttfb:Pt(Math.max(u-(null!=t?t:0),0)),type:c})}function Pt(e){return null==e?De:"number"==typeof e?Math.round(e>0?e:0).toString():e.toString()}const Mt={initiatorType:["xmlhttprequest","fetch"]};var Ut=function(e,t,i,n){return new(i||(i=Promise))(function(s,r){function o(e){try{l(n.next(e))}catch(Yt){r(Yt)}}function a(e){try{l(n.throw(e))}catch(Yt){r(Yt)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};const Dt=new F;class Rt extends O{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-performance",this.version=I}initialize(){"PerformanceObserver"in window?function(e){if("complete"===document.readyState)e();else{const t=()=>{"complete"===document.readyState&&(e(),document.removeEventListener("readystatechange",t))};document.addEventListener("readystatechange",t)}}(()=>Ut(this,void 0,void 0,function*(){const e=this.api.pushEvent,{faroNavigationId:t}=yield function(e){let t;const i=new Promise(e=>{t=e});return new PerformanceObserver(i=>{var n;const[s]=i.getEntries();if(null==s||bt(s.name))return;const r=s.toJSON();let o=_t(null==r?void 0:r.serverTiming);const a=null!==(n=Xe(Ot,We))&&void 0!==n?n:De,l=Object.assign(Object.assign({},Ct(r)),{faroNavigationId:W(),faroPreviousNavigationId:a});Je(Ot,l.faroNavigationId,We),e("faro.performance.navigation",l,void 0,{spanContext:o,timestampOverwriteMs:performance.timeOrigin+r.startTime}),t(l)}).observe({type:"navigation",buffered:!0}),i}(e);null!=t&&function(e,t,i){const n=ue.config.trackResources;new PerformanceObserver(s=>{const r=s.getEntries();for(const o of r){if(bt(o.name))continue;null==i||i.notify({type:It});const s=o.toJSON();let r=_t(null==s?void 0:s.serverTiming);if(null==n&&Lt(s,Mt)||n){const i=Object.assign(Object.assign({},jt(s)),{faroNavigationId:e,faroResourceId:W()});t("faro.performance.resource",i,void 0,{spanContext:r,timestampOverwriteMs:performance.timeOrigin+s.startTime})}}}).observe({type:It,buffered:!0})}(t,e,Dt)})):this.logDebug("performance observer not supported. Disable performance instrumentation.")}}let Nt,zt,qt=!1;function Bt(e){return e.type===gt}class Ft{constructor(e){this.userAction=e,this.http=xt(),this.dom=vt(),this.perf=(Nt||(Nt=new F),qt||(zt=Dt.subscribe(e=>{e.type===It&&Nt.notify({type:"resource-entry"})}),qt=!0),Nt),this.isValid=!1,this.runningRequests=new Map}attach(){this.allMonitorsSub=(new F).merge(this.http,this.dom,this.perf).takeWhile(()=>[V.Started,V.Halted].includes(this.userAction.getState())).filter(e=>!!(this.userAction.getState()!==V.Halted||Bt(e)&&this.runningRequests.has(e.request.requestId))).subscribe(e=>{(function(e){return e.type===ht})(e)&&this.runningRequests.set(e.request.requestId,e.request),Bt(e)&&this.runningRequests.delete(e.request.requestId),Bt(e)?this.userAction.getState()===V.Halted&&0===this.runningRequests.size&&this.endAction():(this.isValid||(this.isValid=!0),this.scheduleFollowUp())}),this.stateSub=this.userAction.filter(e=>[V.Ended,V.Cancelled].includes(e)).first().subscribe(()=>this.cleanup()),this.scheduleFollowUp()}scheduleFollowUp(){this.clearTimer(this.followUpTid),this.followUpTid=setTimeout(()=>{this.userAction.getState()===V.Started&&this.runningRequests.size>0?this.haltAction():this.isValid?this.endAction():this.cancelAction()},100)}haltAction(){this.userAction.getState()===V.Started&&(this.userAction.halt(),this.startHaltTimeout())}startHaltTimeout(){var e,t,i;this.clearTimer(this.haltTid),this.haltTid=(e=this.haltTid,t=()=>{this.userAction.getState()===V.Halted&&this.endAction()},i=1e4,e&&clearTimeout(e),setTimeout(()=>{t()},i))}endAction(){this.userAction.end(),this.cleanup()}cancelAction(){this.userAction.cancel(),this.cleanup()}cleanup(){var e,t;this.clearTimer(this.followUpTid),this.clearTimer(this.haltTid),null===(e=this.allMonitorsSub)||void 0===e||e.unsubscribe(),null===(t=this.stateSub)||void 0===t||t.unsubscribe(),this.allMonitorsSub=void 0,this.stateSub=void 0,this.runningRequests.clear()}clearTimer(e){e&&clearTimeout(e)}}function $t(e){const{api:t,config:i}=e;function n(e){new Ft(e).attach()}return{processUserEvent:function(e){var s,r;const o=function(e,t){const i=function(e){const t=e.split("data-")[1],i=null==t?void 0:t.replace(/-(.)/g,(e,t)=>t.toUpperCase());return null==i?void 0:i.replace(/-/g,"")}(t),n=e.dataset;for(const s in n)if(s===i)return n[s];return}(e.target,null!==(r=null===(s=i.userActionsInstrumentation)||void 0===s?void 0:s.dataAttributeName)&&void 0!==r?r:"faroUserActionName");if(!o)return;const a=t.startUserAction(o,{},{triggerName:e.type});a&&n(a)},processUserActionStarted:n}}class Vt extends O{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-user-action",this.version=I}initialize(){const{processUserEvent:e,processUserActionStarted:t}=$t(ue);window.addEventListener("pointerdown",e),window.addEventListener("keydown",t=>{[" ","Enter"].includes(t.key)&&e(t)}),this._userActionSub=X.subscribe(({type:e,userAction:i})=>{"user_action_start"===e&&t(i)})}destroy(){var e;null===(e=this._userActionSub)||void 0===e||e.unsubscribe()}}const Ht=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function Wt(e){let t,i,n,s,a=[];if((e=>r(e,"ErrorEvent"))(e)&&e.error)t=e.error.message,i=e.error.name,a=Le(e.error);else if((n=(e=>r(e,"DOMError"))(e))||(e=>r(e,"DOMException"))(e)){const{name:s,message:r}=e;i=null!=s?s:n?"DOMError":"DOMException",t=r?`${i}: ${r}`:i}else f(e)?(t=e.message,a=Le(e)):(c(e)||(s=(e=>h&&o(e,Event))(e)))&&(i=s?e.constructor.name:void 0,t=`Non-Error exception captured with keys: ${Object.keys(e)}`);return[t,i,a]}function Gt(e){const[t,i,n,s,r]=e;let o,a,u=[];const c=l(t),d=Ae(i,"?",n,s);return r||!c?([o,a,u]=Wt(null!=r?r:t),0===u.length&&(u=[d])):c&&([o,a]=function(e){var t,i;const n=e.match(Ht),s=null!==(t=null==n?void 0:n[1])&&void 0!==t?t:Z;return[null!==(i=null==n?void 0:n[2])&&void 0!==i?i:e,s]}(t),u=[d]),{value:o,type:a,stackFrames:u}}function Kt(e,t){return f(e[0])?Gt(e):{value:t(e)}}const Xt=[];function Jt(e){const t=t=>{var i,n;let s,r,o=t;o.reason?o=t.reason:(null===(i=t.detail)||void 0===i?void 0:i.reason)&&(o=null===(n=t.detail)||void 0===n?void 0:n.reason);let a=[];(e=>!c(e)&&!d(e))(o)?(s=`Non-Error promise rejection captured with value: ${String(o)}`,r="UnhandledRejection"):[s,r,a]=Wt(o),s&&e.pushError(new Error(s),{type:r,stackFrames:a})};window.addEventListener("unhandledrejection",t),Xt.push(t)}class Zt extends O{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-errors",this.version=I}initialize(){this.logDebug("Initializing"),function(e){const t=window.onerror;window.onerror=(...i)=>{try{const{value:t,type:n,stackFrames:s}=Gt(i),r=i[4];if(t){const i={type:n,stackFrames:s};null!=r&&(i.originalError=r),e.pushError(new Error(t),i)}}finally{null==t||t.apply(window,i)}}}(this.api),Jt(this.api)}}class Qt{t;o=0;i=[];u(e){if(e.hadRecentInput)return;const t=this.i[0],i=this.i.at(-1);this.o&&t&&i&&e.startTime-i.startTime<1e3&&e.startTime-t.startTime<5e3?(this.o+=e.value,this.i.push(e)):(this.o=e.value,this.i=[e]),this.t?.(e)}}const Yt=()=>{const e=performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},ei=e=>{if("loading"===document.readyState)return"loading";{const t=Yt();if(t){if(e<t.domInteractive)return"loading";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return"dom-interactive";if(0===t.domComplete||e<t.domComplete)return"dom-content-loaded"}}return"complete"},ti=e=>{const t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},ii=e=>{let t="";try{for(;9!==e?.nodeType;){const i=e,n=i.id?"#"+i.id:[ti(i),...Array.from(i.classList).sort()].join(".");if(t.length+n.length>99)return t||n;if(t=t?n+">"+t:n,i.id)break;e=i.parentNode}}catch{}return t},ni=new WeakMap;function si(e,t){return ni.get(e)||ni.set(e,new t),ni.get(e)}let ri=-1;const oi=()=>ri,ai=e=>{addEventListener("pageshow",t=>{t.persisted&&(ri=t.timeStamp,e(t))},!0)},li=(e,t,i,n)=>{let s,r;return o=>{t.value>=0&&(o||n)&&(r=t.value-(s??0),(r||void 0===s)&&(s=t.value,t.delta=r,t.rating=((e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good")(t.value,i),e(t)))}},ui=e=>{requestAnimationFrame(()=>requestAnimationFrame(()=>e()))},ci=()=>{const e=Yt();return e?.activationStart??0},di=(e,t=-1)=>{const i=Yt();let n="navigate";return oi()>=0?n="back-forward-cache":i&&(document.prerendering||ci()>0?n="prerender":document.wasDiscarded?n="restore":i.type&&(n=i.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:n}},pi=(e,t,i={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const n=new PerformanceObserver(e=>{Promise.resolve().then(()=>{t(e.getEntries())})});return n.observe({type:e,buffered:!0,...i}),n}}catch{}},hi=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let gi=-1;const fi=new Set,mi=()=>"hidden"!==document.visibilityState||document.prerendering?1/0:0,vi=e=>{if("hidden"===document.visibilityState){if("visibilitychange"===e.type)for(const e of fi)e();isFinite(gi)||(gi="visibilitychange"===e.type?e.timeStamp:0,removeEventListener("prerenderingchange",vi,!0))}},bi=()=>{if(gi<0){const e=ci(),t=document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(t=>"hidden"===t.name&&t.startTime>e)[0]?.startTime;gi=t??mi(),addEventListener("visibilitychange",vi,!0),addEventListener("prerenderingchange",vi,!0),ai(()=>{setTimeout(()=>{gi=mi()})})}return{get firstHiddenTime(){return gi},onHidden(e){fi.add(e)}}},wi=e=>{document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},yi=[1800,3e3],Si=(e,t={})=>{wi(()=>{const i=bi();let n,s=di("FCP");const r=pi("paint",e=>{for(const t of e)"first-contentful-paint"===t.name&&(r.disconnect(),t.startTime<i.firstHiddenTime&&(s.value=Math.max(t.startTime-ci(),0),s.entries.push(t),n(!0)))});r&&(n=li(e,s,yi,t.reportAllChanges),ai(i=>{s=di("FCP"),n=li(e,s,yi,t.reportAllChanges),ui(()=>{s.value=performance.now()-i.timeStamp,n(!0)})}))})},Ti=[.1,.25],Ei=e=>e.find(e=>1===e.node?.nodeType)||e[0];let ki=0,xi=1/0,Oi=0;const Ii=e=>{for(const t of e)t.interactionId&&(xi=Math.min(xi,t.interactionId),Oi=Math.max(Oi,t.interactionId),ki=Oi?(Oi-xi)/7+1:0)};let Ai;const _i=()=>Ai?ki:performance.interactionCount??0;let Li=0;class ji{l=[];h=new Map;m;p;v(){Li=_i(),this.l.length=0,this.h.clear()}M(){const e=Math.min(this.l.length-1,Math.floor((_i()-Li)/50));return this.l[e]}u(e){if(this.m?.(e),!e.interactionId&&"first-input"!==e.entryType)return;const t=this.l.at(-1);let i=this.h.get(e.interactionId);if(i||this.l.length<10||e.duration>t.T){if(i?e.duration>i.T?(i.entries=[e],i.T=e.duration):e.duration===i.T&&e.startTime===i.entries[0].startTime&&i.entries.push(e):(i={id:e.interactionId,entries:[e],T:e.duration},this.h.set(i.id,i),this.l.push(i)),this.l.sort((e,t)=>t.T-e.T),this.l.length>10){const e=this.l.splice(10);for(const t of e)this.h.delete(t.id)}this.p?.(i)}}}const Ci=e=>{const t=globalThis.requestIdleCallback||setTimeout;"hidden"===document.visibilityState?e():(e=hi(e),addEventListener("visibilitychange",e,{once:!0,capture:!0}),t(()=>{e(),removeEventListener("visibilitychange",e,{capture:!0})}))},Pi=[200,500],Mi=(e,t={})=>{const i=si(t=Object.assign({},t),ji);let n=[],s=[],r=0;const o=new WeakMap,a=new WeakMap;let l=!1;const u=()=>{l||(Ci(c),l=!0)},c=()=>{const e=i.l.map(e=>o.get(e.entries[0])),t=s.length-50;s=s.filter((i,n)=>n>=t||e.includes(i));const a=new Set;for(const i of s){const e=d(i.startTime,i.processingEnd);for(const t of e)a.add(t)}const u=n.length-1-50;n=n.filter((e,t)=>e.startTime>r&&t>u||a.has(e)),l=!1};i.m=e=>{const t=e.startTime+e.duration;let i;r=Math.max(r,e.processingEnd);for(let n=s.length-1;n>=0;n--){const r=s[n];if(Math.abs(t-r.renderTime)<=8){i=r,i.startTime=Math.min(e.startTime,i.startTime),i.processingStart=Math.min(e.processingStart,i.processingStart),i.processingEnd=Math.max(e.processingEnd,i.processingEnd),i.entries.push(e);break}}i||(i={startTime:e.startTime,processingStart:e.processingStart,processingEnd:e.processingEnd,renderTime:t,entries:[e]},s.push(i)),(e.interactionId||"first-input"===e.entryType)&&o.set(e,i),u()},i.p=e=>{if(!a.get(e)){const i=e.entries[0].target;if(i){const n=t.generateTarget?.(i)??ii(i);a.set(e,n)}}};const d=(e,t)=>{const i=[];for(const s of n)if(!(s.startTime+s.duration<e)){if(s.startTime>t)break;i.push(s)}return i},p=e=>{const t=e.entries[0],n=o.get(t),s=t.processingStart,r=Math.max(t.startTime+t.duration,s),l=Math.min(n.processingEnd,r),u=n.entries.sort((e,t)=>e.processingStart-t.processingStart),c=d(t.startTime,l),p=i.h.get(t.interactionId),h={interactionTarget:a.get(p),interactionType:t.name.startsWith("key")?"keyboard":"pointer",interactionTime:t.startTime,nextPaintTime:r,processedEventEntries:u,longAnimationFrameEntries:c,inputDelay:s-t.startTime,processingDuration:l-s,presentationDelay:r-l,loadState:ei(t.startTime),longestScript:void 0,totalScriptDuration:void 0,totalStyleAndLayoutDuration:void 0,totalPaintDuration:void 0,totalUnattributedDuration:void 0};return(e=>{if(!e.longAnimationFrameEntries?.length)return;const t=e.interactionTime,i=e.inputDelay,n=e.processingDuration;let s,r,o=0,a=0,l=0,u=0;for(const p of e.longAnimationFrameEntries){a=a+p.startTime+p.duration-p.styleAndLayoutStart;for(const e of p.scripts){const l=e.startTime+e.duration;if(l<t)continue;const c=l-Math.max(t,e.startTime),d=e.duration?c/e.duration*e.forcedStyleAndLayoutDuration:0;o+=c-d,a+=d,c>u&&(r=e.startTime<t+i?"input-delay":e.startTime>=t+i+n?"presentation-delay":"processing-duration",s=e,u=c)}}const c=e.longAnimationFrameEntries.at(-1),d=c?c.startTime+c.duration:0;d>=t+i+n&&(l=e.nextPaintTime-d),s&&r&&(e.longestScript={entry:s,subpart:r,intersectingDuration:u}),e.totalScriptDuration=o,e.totalStyleAndLayoutDuration=a,e.totalPaintDuration=l,e.totalUnattributedDuration=e.nextPaintTime-t-o-a-l})(h),Object.assign(e,{attribution:h})};pi("long-animation-frame",e=>{n=n.concat(e),u()}),((e,t={})=>{if(!globalThis.PerformanceEventTiming||!("interactionId"in PerformanceEventTiming.prototype))return;const i=bi();wi(()=>{"interactionCount"in performance||Ai||(Ai=pi("event",Ii,{type:"event",buffered:!0,durationThreshold:0}));let n,s=di("INP");const r=si(t,ji),o=e=>{Ci(()=>{for(const i of e)r.u(i);const t=r.M();t&&t.T!==s.value&&(s.value=t.T,s.entries=t.entries,n())})},a=pi("event",o,{durationThreshold:t.durationThreshold??40});n=li(e,s,Pi,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),i.onHidden(()=>{o(a.takeRecords()),n(!0)}),ai(()=>{r.v(),s=di("INP"),n=li(e,s,Pi,t.reportAllChanges)}))})})(t=>{const i=p(t);e(i)},t)};class Ui{m;u(e){this.m?.(e)}}const Di=[2500,4e3],Ri=[800,1800],Ni=e=>{document.prerendering?wi(()=>Ni(e)):"complete"!==document.readyState?addEventListener("load",()=>Ni(e),!0):setTimeout(e)},zi="load_state",qi="time_to_first_byte";class Bi{constructor(e,t){this.corePushMeasurement=e,this.webVitalConfig=t}initialize(){this.measureCLS(),this.measureFCP(),this.measureINP(),this.measureLCP(),this.measureTTFB()}measureCLS(){var e;((e,t={})=>{const i=si(t=Object.assign({},t),Qt),n=new WeakMap;i.t=e=>{if(e?.sources?.length){const i=Ei(e.sources),s=i?.node;if(s){const e=t.generateTarget?.(s)??ii(s);n.set(i,e)}}},((e,t={})=>{const i=bi();Si(hi(()=>{let n,s=di("CLS",0);const r=si(t,Qt),o=e=>{for(const t of e)r.u(t);r.o>s.value&&(s.value=r.o,s.entries=r.i,n())},a=pi("layout-shift",o);a&&(n=li(e,s,Ti,t.reportAllChanges),i.onHidden(()=>{o(a.takeRecords()),n(!0)}),ai(()=>{r.o=0,s=di("CLS",0),n=li(e,s,Ti,t.reportAllChanges),ui(()=>n())}),setTimeout(n))}))})(t=>{const i=(e=>{let t={};if(e.entries.length){const i=e.entries.reduce((e,t)=>e.value>t.value?e:t);if(i?.sources?.length){const e=Ei(i.sources);e&&(t={largestShiftTarget:n.get(e),largestShiftTime:i.startTime,largestShiftValue:i.value,largestShiftSource:e,largestShiftEntry:i,loadState:ei(i.startTime)})}}return Object.assign(e,{attribution:t})})(t);e(i)},t)})(e=>{const{loadState:t,largestShiftValue:i,largestShiftTime:n,largestShiftTarget:s}=e.attribution,r=this.buildInitialValues(e);this.addIfPresent(r,"largest_shift_value",i),this.addIfPresent(r,"largest_shift_time",n);const o=this.buildInitialContext(e);this.addIfPresent(o,zi,t),this.addIfPresent(o,"largest_shift_target",s),this.pushMeasurement(r,o)},{reportAllChanges:null===(e=this.webVitalConfig)||void 0===e?void 0:e.reportAllChanges})}measureFCP(){var e;((e,t={})=>{Si(t=>{const i=(e=>{let t={timeToFirstByte:0,firstByteToFCP:e.value,loadState:ei(oi())};if(e.entries.length){const i=Yt(),n=e.entries.at(-1);if(i){const s=i.activationStart||0,r=Math.max(0,i.responseStart-s);t={timeToFirstByte:r,firstByteToFCP:e.value-r,loadState:ei(e.entries[0].startTime),navigationEntry:i,fcpEntry:n}}}return Object.assign(e,{attribution:t})})(t);e(i)},t)})(e=>{const{firstByteToFCP:t,timeToFirstByte:i,loadState:n}=e.attribution,s=this.buildInitialValues(e);this.addIfPresent(s,"first_byte_to_fcp",t),this.addIfPresent(s,qi,i);const r=this.buildInitialContext(e);this.addIfPresent(r,zi,n),this.pushMeasurement(s,r)},{reportAllChanges:null===(e=this.webVitalConfig)||void 0===e?void 0:e.reportAllChanges})}measureINP(){var e;Mi(e=>{const{interactionTime:t,presentationDelay:i,inputDelay:n,processingDuration:s,nextPaintTime:r,loadState:o,interactionTarget:a,interactionType:l}=e.attribution,u=this.buildInitialValues(e);this.addIfPresent(u,"interaction_time",t),this.addIfPresent(u,"presentation_delay",i),this.addIfPresent(u,"input_delay",n),this.addIfPresent(u,"processing_duration",s),this.addIfPresent(u,"next_paint_time",r);const c=this.buildInitialContext(e);this.addIfPresent(c,zi,o),this.addIfPresent(c,"interaction_target",a),this.addIfPresent(c,"interaction_type",l),this.pushMeasurement(u,c)},{reportAllChanges:null===(e=this.webVitalConfig)||void 0===e?void 0:e.reportAllChanges})}measureLCP(){var e;((e,t={})=>{const i=si(t=Object.assign({},t),Ui),n=new WeakMap;i.m=e=>{const i=e.element;if(i){const s=t.generateTarget?.(i)??ii(i);n.set(e,s)}},((e,t={})=>{wi(()=>{const i=bi();let n,s=di("LCP");const r=si(t,Ui),o=e=>{t.reportAllChanges||(e=e.slice(-1));for(const t of e)r.u(t),t.startTime<i.firstHiddenTime&&(s.value=Math.max(t.startTime-ci(),0),s.entries=[t],n())},a=pi("largest-contentful-paint",o);if(a){n=li(e,s,Di,t.reportAllChanges);const i=hi(()=>{o(a.takeRecords()),a.disconnect(),n(!0)}),r=e=>{e.isTrusted&&(Ci(i),removeEventListener(e.type,r,{capture:!0}))};for(const e of["keydown","click","visibilitychange"])addEventListener(e,r,{capture:!0});ai(i=>{s=di("LCP"),n=li(e,s,Di,t.reportAllChanges),ui(()=>{s.value=performance.now()-i.timeStamp,n(!0)})})}})})(t=>{const i=(e=>{let t={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:e.value};if(e.entries.length){const i=Yt();if(i){const s=i.activationStart||0,r=e.entries.at(-1),o=r.url&&performance.getEntriesByType("resource").filter(e=>e.name===r.url)[0],a=Math.max(0,i.responseStart-s),l=Math.max(a,o?(o.requestStart||o.startTime)-s:0),u=Math.min(e.value,Math.max(l,o?o.responseEnd-s:0));t={target:n.get(r),timeToFirstByte:a,resourceLoadDelay:l-a,resourceLoadDuration:u-l,elementRenderDelay:e.value-u,navigationEntry:i,lcpEntry:r},r.url&&(t.url=r.url),o&&(t.lcpResourceEntry=o)}}return Object.assign(e,{attribution:t})})(t);e(i)},t)})(e=>{const{elementRenderDelay:t,resourceLoadDelay:i,resourceLoadDuration:n,timeToFirstByte:s,target:r}=e.attribution,o=this.buildInitialValues(e);this.addIfPresent(o,"element_render_delay",t),this.addIfPresent(o,"resource_load_delay",i),this.addIfPresent(o,"resource_load_duration",n),this.addIfPresent(o,qi,s);const a=this.buildInitialContext(e);this.addIfPresent(a,"element",r),this.pushMeasurement(o,a)},{reportAllChanges:null===(e=this.webVitalConfig)||void 0===e?void 0:e.reportAllChanges})}measureTTFB(){var e;((e,t={})=>{((e,t={})=>{let i=di("TTFB"),n=li(e,i,Ri,t.reportAllChanges);Ni(()=>{const s=Yt();s&&(i.value=Math.max(s.responseStart-ci(),0),i.entries=[s],n(!0),ai(()=>{i=di("TTFB",0),n=li(e,i,Ri,t.reportAllChanges),n(!0)}))})})(t=>{const i=(e=>{let t={waitingDuration:0,cacheDuration:0,dnsDuration:0,connectionDuration:0,requestDuration:0};if(e.entries.length){const i=e.entries[0],n=i.activationStart||0,s=Math.max((i.workerStart||i.fetchStart)-n,0),r=Math.max(i.domainLookupStart-n,0),o=Math.max(i.connectStart-n,0),a=Math.max(i.connectEnd-n,0);t={waitingDuration:s,cacheDuration:r-s,dnsDuration:o-r,connectionDuration:a-o,requestDuration:e.value-a,navigationEntry:i}}return Object.assign(e,{attribution:t})})(t);e(i)},t)})(e=>{const{dnsDuration:t,connectionDuration:i,requestDuration:n,waitingDuration:s,cacheDuration:r}=e.attribution,o=this.buildInitialValues(e);this.addIfPresent(o,"dns_duration",t),this.addIfPresent(o,"connection_duration",i),this.addIfPresent(o,"request_duration",n),this.addIfPresent(o,"waiting_duration",s),this.addIfPresent(o,"cache_duration",r);const a=this.buildInitialContext(e);this.pushMeasurement(o,a)},{reportAllChanges:null===(e=this.webVitalConfig)||void 0===e?void 0:e.reportAllChanges})}buildInitialValues(e){const t=e.name.toLowerCase();return{[t]:e.value,delta:e.delta}}buildInitialContext(e){var t;const i=null!==(t=Xe(Ot,We))&&void 0!==t?t:De;return{id:e.id,rating:e.rating,navigation_type:e.navigationType,navigation_entry_id:i}}pushMeasurement(e,t){this.corePushMeasurement({type:"web-vitals",values:e},{context:t})}addIfPresent(e,t,i){i&&(e[t]=i)}}class Fi extends O{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-web-vitals",this.version=I}initialize(){this.logDebug("Initializing");new Bi(this.api.pushMeasurement,this.config.webVitalsInstrumentation).initialize()}}class $i extends O{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-session",this.version=I}sendSessionStartEvent(e){var t,i;const n=e.session;if(n&&n.id!==(null===(t=this.notifiedSession)||void 0===t?void 0:t.id)){if(this.notifiedSession&&this.notifiedSession.id===(null===(i=n.attributes)||void 0===i?void 0:i.previousSession))return this.api.pushEvent("session_extend",{},void 0,{skipDedupe:!0}),void(this.notifiedSession=n);this.notifiedSession=n,this.api.pushEvent(L,{},void 0,{skipDedupe:!0})}}createInitialSession(e,t){var i,n,s,r,o,a;let l,u,c=e.fetchUserSession();if(t.persistent&&t.maxSessionPersistenceTime&&c){const e=N();c.lastActivity<e-t.maxSessionPersistenceTime&&(at.removeUserSession(),c=null)}if(nt(c)){const e=null==c?void 0:c.sessionId;u=it({sessionId:e,isSampled:c.isSampled||!1,started:null==c?void 0:c.started});const s=null==c?void 0:c.sessionMeta,r=Object.assign(Object.assign({},null===(i=t.session)||void 0===i?void 0:i.overrides),null==s?void 0:s.overrides);u.sessionMeta=Object.assign(Object.assign({},t.session),{id:e,attributes:Object.assign(Object.assign(Object.assign({},null===(n=t.session)||void 0===n?void 0:n.attributes),null==s?void 0:s.attributes),{isSampled:u.isSampled.toString()}),overrides:r}),l=j}else{const e=null!==(r=null===(s=t.session)||void 0===s?void 0:s.id)&&void 0!==r?r:function(e){var t,i,n,s;return{id:null!==(s=null===(n=null===(i=null===(t=ue.config)||void 0===t?void 0:t.sessionTracking)||void 0===i?void 0:i.generateSessionId)||void 0===n?void 0:n.call(i))&&void 0!==s?s:W(),attributes:e}}().id;u=it({sessionId:e,isSampled:tt()});const i=null===(o=t.session)||void 0===o?void 0:o.overrides;u.sessionMeta=Object.assign({id:e,attributes:Object.assign({isSampled:u.isSampled.toString()},null===(a=t.session)||void 0===a?void 0:a.attributes)},i?{overrides:i}:{}),l=L}return{initialSession:u,lifecycleType:l}}registerBeforeSendHook(e){var t;const{updateSession:i}=new e;null===(t=this.transports)||void 0===t||t.addBeforeSendHooks(e=>{var t,n,s;i();const r=null===(t=e.meta.session)||void 0===t?void 0:t.attributes;if(r&&"true"===(null==r?void 0:r.isSampled)){let t=JSON.parse(JSON.stringify(e));const i=null===(n=t.meta.session)||void 0===n?void 0:n.attributes;return null==i||delete i.isSampled,0===Object.keys(null!=i?i:{}).length&&(null===(s=t.meta.session)||void 0===s||delete s.attributes),t}return null})}initialize(){this.logDebug("init session instrumentation");const e=this.config.sessionTracking;if(null==e?void 0:e.enabled){const t=ut(e);this.registerBeforeSendHook(t);const{initialSession:i,lifecycleType:n}=this.createInitialSession(t,e);t.storeUserSession(i);const s=i.sessionMeta;this.notifiedSession=s,this.api.setSession(s),n===L&&this.api.pushEvent(L,{},void 0,{skipDedupe:!0}),n===j&&this.api.pushEvent(j,{},void 0,{skipDedupe:!0})}this.metas.addListener(this.sendSessionStartEvent.bind(this))}}class Vi extends O{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-view",this.version=I}sendViewChangedEvent(e){var t,i,n,s;const r=e.view;r&&r.name!==(null===(t=this.notifiedView)||void 0===t?void 0:t.name)&&(this.api.pushEvent("view_changed",{fromView:null!==(n=null===(i=this.notifiedView)||void 0===i?void 0:i.name)&&void 0!==n?n:De,toView:null!==(s=r.name)&&void 0!==s?s:De},void 0,{skipDedupe:!0}),this.notifiedView=r)}initialize(){this.metas.addListener(this.sendViewChangedEvent.bind(this))}}class Hi extends F{constructor(e,t){var i,n,s,r;super(),this._tracking=!1,this.eventsObservable=e,this._options={inactivityMs:null!==(i=null==t?void 0:t.inactivityMs)&&void 0!==i?i:100,drainTimeoutMs:null!==(n=null==t?void 0:t.drainTimeoutMs)&&void 0!==n?n:1e4,isOperationStart:null!==(s=null==t?void 0:t.isOperationStart)&&void 0!==s?s:()=>{},isOperationEnd:null!==(r=null==t?void 0:t.isOperationEnd)&&void 0!==r?r:()=>{}},this._initialize()}_initialize(){this.eventsObservable.filter(()=>this._tracking).subscribe(e=>{var t,i,n;this._lastEventTime=Date.now(),null===(t=this._currentEvents)||void 0===t||t.push(e);const s=this._options.isOperationStart(e);s&&(null===(i=this._activeOperations)||void 0===i||i.set(s,!0));const r=this._options.isOperationEnd(e);r&&(null===(n=this._activeOperations)||void 0===n||n.delete(r)),this._scheduleInactivityCheck()})}startTracking(){this._tracking||(this._tracking=!0,this._startTime=Date.now(),this._lastEventTime=Date.now(),this.notify({message:"tracking-started"}),this._currentEvents=[],this._activeOperations=new Map,this._scheduleInactivityCheck())}stopTracking(){let e;this._tracking=!1,this._clearTimer(this._inactivityTid),this._clearTimer(this._drainTid),e=this.hasActiveOperations()?Date.now()-this._startTime:this._lastEventTime?this._lastEventTime-this._startTime:0,this.notify({message:"tracking-ended",events:this._currentEvents,duration:e})}_scheduleInactivityCheck(){this._inactivityTid=Wi(this._inactivityTid,()=>{this.hasActiveOperations()?this._startDrainTimeout():this.stopTracking()},this._options.inactivityMs)}_startDrainTimeout(){this._drainTid=Wi(this._drainTid,()=>{this.stopTracking()},this._options.drainTimeoutMs)}hasActiveOperations(){return!!this._activeOperations&&this._activeOperations.size>0}_clearTimer(e){e&&clearTimeout(e)}}function Wi(e,t,i){return e&&clearTimeout(e),e=setTimeout(()=>{t()},i)}let Gi;const Ki=new Set,Xi=new Map;let Ji,Zi,Qi,Yi,en,tn,nn,sn,rn=!1;class on extends O{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-navigation",this.version=I}initialize(){const e=xt(),t=vt(),i=function(){function e(e,t){const i=null!=t?t:location.href;i!==Zi&&(Ji.notify({type:"url-change",from:Zi,to:i,trigger:e}),Zi=i)}if(Ji||(Ji=new F,Zi=location.href),!rn)if("navigation"in window&&"NavigateEvent"in window){nn=t=>{try{const i=null==t?void 0:t.destination;(null==i?void 0:i.sameDocument)&&"string"==typeof i.url&&e("navigate",i.url)}catch(i){}},window.navigation.addEventListener("navigate",nn);const t=window.NavigateEvent;t&&t.prototype&&"function"==typeof t.prototype.intercept&&(sn||(sn=t.prototype.intercept),t.prototype.intercept=function(t){try{const t=!!(null==this?void 0:this.canIntercept),i=null==this?void 0:this.destination;t&&i&&!1===i.sameDocument&&"string"==typeof i.url&&e("navigate-intercept",i.url)}catch(i){}return sn.call(this,t)}),rn=!0}else Qi||(Qi=window.history.pushState),window.history.pushState=function(...t){const i=Qi.apply(window.history,t);return e("pushState"),i},Yi||(Yi=window.history.replaceState),window.history.replaceState=function(...t){const i=Yi.apply(window.history,t);return e("replaceState"),i},en=()=>e("popstate"),tn=()=>e("hashchange"),window.addEventListener("popstate",en),window.addEventListener("hashchange",tn),rn=!0;return Ji}(),n=(s=["pointerdown","keydown"],Gi||(Gi=new F),s.forEach(e=>{if(!Ki.has(e)){const t=()=>{Gi.notify({type:"interaction",name:e})};window.addEventListener(e,t),Ki.add(e),Xi.set(e,t)}}),Gi);var s;const r=new Hi((new F).merge(e,t,i),{inactivityMs:100,drainTimeoutMs:1e4,isOperationStart:e=>function(e){return e.type===ht}(e)?e.request.requestId:void 0,isOperationEnd:e=>function(e){return e.type===gt}(e)?e.request.requestId:void 0});r.filter(e=>"tracking-ended"===e.message).subscribe(e=>{var t,i,n;if((null===(t=e.events)||void 0===t?void 0:t.some(e=>"url-change"===e.type))&&(null===(i=e.events)||void 0===i?void 0:i.some(e=>"dom-mutation"===e.type))){const t=null===(n=e.events)||void 0===n?void 0:n.find(e=>"url-change"===e.type);ue.api.pushEvent("faro.navigation",{fromUrl:null==t?void 0:t.from,toUrl:null==t?void 0:t.to,sameDocument:String(!0),duration:e.duration})}}),n.subscribe(()=>{r.startTracking()})}}class an extends O{constructor(){super(),this.name="@grafana/faro-web-sdk:instrumentation-csp",this.version=I}initialize(){document.addEventListener("securitypolicyviolation",this.securitypolicyviolationHandler.bind(this))}destroy(){document.removeEventListener("securitypolicyviolation",this.securitypolicyviolationHandler)}securitypolicyviolationHandler(e){const t={blockedURI:e.blockedURI,columnNumber:e.columnNumber,disposition:e.disposition,documentURI:e.documentURI,effectiveDirective:e.effectiveDirective,lineNumber:e.lineNumber,originalPolicy:e.originalPolicy,referrer:e.referrer,sample:e.sample,sourceFile:e.sourceFile,statusCode:e.statusCode,violatedDirective:e.violatedDirective};this.api.pushEvent("securitypolicyviolation",R(t))}}let ln,un=!1;class cn extends O{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-console",this.version=I,this.errorSerializer=se}initialize(){var e,t;const i=this.config.consoleInstrumentation,n=(null==i?void 0:i.serializeErrors)||!!(null==i?void 0:i.errorSerializer);this.errorSerializer=n?null!==(e=null==i?void 0:i.errorSerializer)&&void 0!==e?e:Q:se;const s=null!==(t=null==i?void 0:i.disabledLevels)&&void 0!==t?t:cn.defaultDisabledLevels,r=function(e){if(ln||(ln=new F),!un){const t=null!=e?e:k;ne.forEach(e=>{console[e]=(...i)=>{var n;ln.notify({type:"console",level:e,args:i}),null===(n=t[e])||void 0===n||n.apply(console,i)}}),un=!0}return ln}(this.unpatchedConsole);this.subscription=r.subscribe(({level:e,args:t})=>{if(!s.includes(e))try{if(e!==te.ERROR||(null==i?void 0:i.consoleErrorAsLog))if(e===te.ERROR&&(null==i?void 0:i.consoleErrorAsLog)){const{value:i,type:n,stackFrames:s}=Kt(t,this.errorSerializer);this.api.pushLog(i?[cn.consoleErrorPrefix+i]:t,{level:e,context:{value:null!=i?i:"",type:null!=n?n:"",stackFrames:(null==s?void 0:s.length)?Q(s):""}})}else this.api.pushLog(t,{level:e});else{const{value:e,type:i,stackFrames:n}=Kt(t,this.errorSerializer);if(e&&!i&&!n)return void this.api.pushError(new Error(cn.consoleErrorPrefix+e));this.api.pushError(new Error(cn.consoleErrorPrefix+e),{type:i,stackFrames:n})}}catch(n){this.logError(n)}})}destroy(){var e;null===(e=this.subscription)||void 0===e||e.unsubscribe(),this.subscription=void 0}}function dn(e={}){const t=[new Vt,new Zt,new Fi,new $i,new Vi,new on];return!1!==e.enablePerformanceInstrumentation&&t.unshift(new Rt),!1!==e.enableContentSecurityPolicyInstrumentation&&t.push(new an),!1!==e.captureConsole&&t.push(new cn),t}cn.defaultDisabledLevels=[te.DEBUG,te.TRACE,te.LOG],cn.consoleErrorPrefix="console.error: ";var pn=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i};function hn(e,{experimental:t}){var i;const n=null!==(i=null==t?void 0:t.trackNavigation)&&void 0!==i&&i;return e.filter(e=>!("@grafana/faro-web-sdk:instrumentation-navigation"===e.name&&!n))}function gn(e){var t,i;const{page:n,generatePageId:s}=null!==(t=null==e?void 0:e.pageTracking)&&void 0!==t?t:{},r=[Re,Fe({generatePageId:s,initialPageMeta:n}),...null!==(i=e.metas)&&void 0!==i?i:[],Ne];return c(null===window||void 0===window?void 0:window.k6)?[...r,ze]:r}function fn({trackGeolocation:e,sessionTracking:t}){var i;const n={};return s(e,"boolean")&&(n.geoLocationTrackingEnabled=e),m(n)?{}:{session:Object.assign(Object.assign({},null!==(i=null==t?void 0:t.session)&&void 0!==i?i:{}),{overrides:n})}}function mn(e){const t=function(e){var t,i,n,s,r;const o=[],a=oe(e.unpatchedConsole,e.internalLoggerLevel);e.transports?((e.url||e.apiKey)&&a.error('if "transports" is defined, "url" and "apiKey" should not be defined'),o.push(...e.transports)):e.url?o.push(new pt({url:e.url,apiKey:e.apiKey})):a.error('either "url" or "transports" must be defined');const{dedupe:l=!0,eventDomain:u=we,globalObjectKey:c=ve,instrumentations:d=dn(),internalLoggerLevel:p=E,isolate:h=!1,logArgsSerializer:g=se,metas:f=gn(e),paused:m=!1,preventGlobalExposure:v=!1,unpatchedConsole:b=k,url:w,experimental:y}=e,S=pn(e,["dedupe","eventDomain","globalObjectKey","instrumentations","internalLoggerLevel","isolate","logArgsSerializer","metas","paused","preventGlobalExposure","unpatchedConsole","url","experimental"]),T=null!==(t=null==y?void 0:y.trackNavigation)&&void 0!==t&&t,x={dataAttributeName:null!==(n=null===(i=e.userActionsInstrumentation)||void 0===i?void 0:i.dataAttributeName)&&void 0!==n?n:"data-faro-user-action-name",excludeItem:null===(s=e.userActionsInstrumentation)||void 0===s?void 0:s.excludeItem};return Object.assign(Object.assign({},S),{batching:Object.assign(Object.assign({},be),e.batching),dedupe:l,globalObjectKey:c,instrumentations:hn(d,e),internalLoggerLevel:p,isolate:h,logArgsSerializer:g,metas:f,parseStacktrace:je,paused:m,preventGlobalExposure:v,transports:o,unpatchedConsole:b,eventDomain:u,ignoreUrls:[...null!==(r=e.ignoreUrls)&&void 0!==r?r:[],...w?[w]:[],/\/collect(?:\/[\w]*)?$/],sessionTracking:Object.assign(Object.assign(Object.assign({},Me),e.sessionTracking),fn({trackGeolocation:e.trackGeolocation,sessionTracking:e.sessionTracking})),userActionsInstrumentation:x,experimental:{trackNavigation:T}})}(e);if(t)return me(t)}},77232(e,t,i){var n;!function(s,r){"use strict";var o="function",a="undefined",l="object",u="string",c="major",d="model",p="name",h="type",g="vendor",f="version",m="architecture",v="console",b="mobile",w="tablet",y="smarttv",S="wearable",T="embedded",E="Amazon",k="Apple",x="ASUS",O="BlackBerry",I="Browser",A="Chrome",_="Firefox",L="Google",j="Honor",C="Huawei",P="LG",M="Microsoft",U="Motorola",D="Nvidia",R="OnePlus",N="Opera",z="OPPO",q="Samsung",B="Sharp",F="Sony",$="Xiaomi",V="Zebra",H="Facebook",W="Chromium OS",G="Mac OS",K=" Browser",X=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t},J=function(e,t){return typeof e===u&&-1!==Z(t).indexOf(Z(e))},Z=function(e){return e.toLowerCase()},Q=function(e,t){if(typeof e===u)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,500)},Y=function(e,t){for(var i,n,s,a,u,c,d=0;d<t.length&&!u;){var p=t[d],h=t[d+1];for(i=n=0;i<p.length&&!u&&p[i];)if(u=p[i++].exec(e))for(s=0;s<h.length;s++)c=u[++n],typeof(a=h[s])===l&&a.length>0?2===a.length?typeof a[1]==o?this[a[0]]=a[1].call(this,c):this[a[0]]=a[1]:3===a.length?typeof a[1]!==o||a[1].exec&&a[1].test?this[a[0]]=c?c.replace(a[1],a[2]):r:this[a[0]]=c?a[1].call(this,c,a[2]):r:4===a.length&&(this[a[0]]=c?a[3].call(this,c.replace(a[1],a[2])):r):this[a]=c||r;d+=2}},ee=function(e,t){for(var i in t)if(typeof t[i]===l&&t[i].length>0){for(var n=0;n<t[i].length;n++)if(J(t[i][n],e))return"?"===i?r:i}else if(J(t[i],e))return"?"===i?r:i;return t.hasOwnProperty("*")?t["*"]:e},te={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ie={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,f],[/opios[\/ ]+([\w\.]+)/i],[f,[p,N+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[f,[p,N+" GX"]],[/\bopr\/([\w\.]+)/i],[f,[p,N]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[f,[p,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[f,[p,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,f],[/quark(?:pc)?\/([-\w\.]+)/i],[f,[p,"Quark"]],[/\bddg\/([\w\.]+)/i],[f,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[p,"UC"+I]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[f,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[f,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[f,[p,"Smart Lenovo "+I]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+I],f],[/\bfocus\/([\w\.]+)/i],[f,[p,_+" Focus"]],[/\bopt\/([\w\.]+)/i],[f,[p,N+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[p,N+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[p,"MIUI"+K]],[/fxios\/([\w\.-]+)/i],[f,[p,_]],[/\bqihoobrowser\/?([\w\.]*)/i],[f,[p,"360"]],[/\b(qq)\/([\w\.]+)/i],[[p,/(.+)/,"$1Browser"],f],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1"+K],f],[/samsungbrowser\/([\w\.]+)/i],[f,[p,q+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[f,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[p,f],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[p],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[f,p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,H],f],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[f,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[p,A+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,A+" WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[p,"Android "+I]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,f],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[f,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[f,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[f,ee,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[p,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],f],[/(wolvic|librewolf)\/([\w\.]+)/i],[p,f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[p,_+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[p,[f,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[p,[f,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[m,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[m,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[m,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[m,/ower/,"",Z]],[/ sun4\w[;\)]/i],[[m,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[m,Z]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[g,q],[h,w]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[d,[g,q],[h,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[g,k],[h,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[g,k],[h,w]],[/(macintosh);/i],[d,[g,k]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[g,B],[h,b]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[d,[g,j],[h,w]],[/honor([-\w ]+)[;\)]/i],[d,[g,j],[h,b]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[d,[g,C],[h,w]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[g,C],[h,b]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[d,/_/g," "],[g,$],[h,w]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[d,/_/g," "],[g,$],[h,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[g,z],[h,b]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[d,[g,ee,{OnePlus:["304","403","203"],"*":z}],[h,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[g,"Vivo"],[h,b]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[g,"Realme"],[h,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[g,U],[h,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[g,U],[h,w]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[g,P],[h,w]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[g,P],[h,b]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[d,[g,"Lenovo"],[h,w]],[/(nokia) (t[12][01])/i],[g,d,[h,w]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[d,/_/g," "],[h,b],[g,"Nokia"]],[/(pixel (c|tablet))\b/i],[d,[g,L],[h,w]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[g,L],[h,b]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[g,F],[h,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[g,F],[h,w]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[g,R],[h,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[g,E],[h,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[g,E],[h,b]],[/(playbook);[-\w\),; ]+(rim)/i],[d,g,[h,w]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[g,O],[h,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[g,x],[h,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[g,x],[h,b]],[/(nexus 9)/i],[d,[g,"HTC"],[h,w]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[d,/_/g," "],[h,b]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[d,[g,"TCL"],[h,w]],[/(itel) ((\w+))/i],[[g,Z],d,[h,ee,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[g,"Acer"],[h,w]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[g,"Meizu"],[h,b]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[g,"Ulefone"],[h,b]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[d,[g,"Energizer"],[h,b]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[d,[g,"Cat"],[h,b]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[d,[g,"Smartfren"],[h,b]],[/droid.+; (a(?:015|06[35]|142p?))/i],[d,[g,"Nothing"],[h,b]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[d,[g,"Archos"],[h,w]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[d,[g,"Archos"],[h,b]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[g,d,[h,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[g,d,[h,b]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[g,d,[h,w]],[/(surface duo)/i],[d,[g,M],[h,w]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[g,"Fairphone"],[h,b]],[/(u304aa)/i],[d,[g,"AT&T"],[h,b]],[/\bsie-(\w*)/i],[d,[g,"Siemens"],[h,b]],[/\b(rct\w+) b/i],[d,[g,"RCA"],[h,w]],[/\b(venue[\d ]{2,7}) b/i],[d,[g,"Dell"],[h,w]],[/\b(q(?:mv|ta)\w+) b/i],[d,[g,"Verizon"],[h,w]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[g,"Barnes & Noble"],[h,w]],[/\b(tm\d{3}\w+) b/i],[d,[g,"NuVision"],[h,w]],[/\b(k88) b/i],[d,[g,"ZTE"],[h,w]],[/\b(nx\d{3}j) b/i],[d,[g,"ZTE"],[h,b]],[/\b(gen\d{3}) b.+49h/i],[d,[g,"Swiss"],[h,b]],[/\b(zur\d{3}) b/i],[d,[g,"Swiss"],[h,w]],[/\b((zeki)?tb.*\b) b/i],[d,[g,"Zeki"],[h,w]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[g,"Dragon Touch"],d,[h,w]],[/\b(ns-?\w{0,9}) b/i],[d,[g,"Insignia"],[h,w]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[g,"NextBook"],[h,w]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,"Voice"],d,[h,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[g,"LvTel"],d,[h,b]],[/\b(ph-1) /i],[d,[g,"Essential"],[h,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[g,"Envizen"],[h,w]],[/\b(trio[-\w\. ]+) b/i],[d,[g,"MachSpeed"],[h,w]],[/\btu_(1491) b/i],[d,[g,"Rotor"],[h,w]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[d,[g,D],[h,w]],[/(sprint) (\w+)/i],[g,d,[h,b]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[g,M],[h,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[g,V],[h,w]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[g,V],[h,b]],[/smart-tv.+(samsung)/i],[g,[h,y]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[g,q],[h,y]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,P],[h,y]],[/(apple) ?tv/i],[g,[d,k+" TV"],[h,y]],[/crkey/i],[[d,A+"cast"],[g,L],[h,y]],[/droid.+aft(\w+)( bui|\))/i],[d,[g,E],[h,y]],[/(shield \w+ tv)/i],[d,[g,D],[h,y]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[g,B],[h,y]],[/(bravia[\w ]+)( bui|\))/i],[d,[g,F],[h,y]],[/(mi(tv|box)-?\w+) bui/i],[d,[g,$],[h,y]],[/Hbbtv.*(technisat) (.*);/i],[g,d,[h,y]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[g,Q],[d,Q],[h,y]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[d,[h,y]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,d,[h,v]],[/droid.+; (shield)( bui|\))/i],[d,[g,D],[h,v]],[/(playstation \w+)/i],[d,[g,F],[h,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[g,M],[h,v]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[d,[g,q],[h,S]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[g,d,[h,S]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[d,[g,z],[h,S]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[g,k],[h,S]],[/(opwwe\d{3})/i],[d,[g,R],[h,S]],[/(moto 360)/i],[d,[g,U],[h,S]],[/(smartwatch 3)/i],[d,[g,F],[h,S]],[/(g watch r)/i],[d,[g,P],[h,S]],[/droid.+; (wt63?0{2,3})\)/i],[d,[g,V],[h,S]],[/droid.+; (glass) \d/i],[d,[g,L],[h,S]],[/(pico) (4|neo3(?: link|pro)?)/i],[g,d,[h,S]],[/; (quest( \d| pro)?)/i],[d,[g,H],[h,S]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[h,T]],[/(aeobc)\b/i],[d,[g,E],[h,T]],[/(homepod).+mac os/i],[d,[g,k],[h,T]],[/windows iot/i],[[h,T]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[h,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[h,w]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,w]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,b]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[d,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[p,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[p,f],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,f],[/ladybird\//i],[[p,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,f],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[p,[f,ee,te]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,ee,te],[p,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,G],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[f,p],[/(ubuntu) ([\w\.]+) like android/i],[[p,/(.+)/,"$1 Touch"],f],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[p,f],[/\(bb(10);/i],[f,[p,O]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[f,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[p,_+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[f,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[f,[p,A+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,W],f],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,f],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,f]]},ne=function(e,t){if(typeof e===l&&(t=e,e=r),!(this instanceof ne))return new ne(e,t).getResult();var i=typeof s!==a&&s.navigator?s.navigator:r,n=e||(i&&i.userAgent?i.userAgent:""),v=i&&i.userAgentData?i.userAgentData:r,y=t?function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2==0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i}(ie,t):ie,S=i&&i.userAgent==n;return this.getBrowser=function(){var e,t={};return t[p]=r,t[f]=r,Y.call(t,n,y.browser),t[c]=typeof(e=t[f])===u?e.replace(/[^\d\.]/g,"").split(".")[0]:r,S&&i&&i.brave&&typeof i.brave.isBrave==o&&(t[p]="Brave"),t},this.getCPU=function(){var e={};return e[m]=r,Y.call(e,n,y.cpu),e},this.getDevice=function(){var e={};return e[g]=r,e[d]=r,e[h]=r,Y.call(e,n,y.device),S&&!e[h]&&v&&v.mobile&&(e[h]=b),S&&"Macintosh"==e[d]&&i&&typeof i.standalone!==a&&i.maxTouchPoints&&i.maxTouchPoints>2&&(e[d]="iPad",e[h]=w),e},this.getEngine=function(){var e={};return e[p]=r,e[f]=r,Y.call(e,n,y.engine),e},this.getOS=function(){var e={};return e[p]=r,e[f]=r,Y.call(e,n,y.os),S&&!e[p]&&v&&v.platform&&"Unknown"!=v.platform&&(e[p]=v.platform.replace(/chrome os/i,W).replace(/macos/i,G)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===u&&e.length>500?Q(e,500):e,this},this.setUA(n),this};ne.VERSION="1.0.41",ne.BROWSER=X([p,f,c]),ne.CPU=X([m]),ne.DEVICE=X([d,g,h,v,b,y,w,S,T]),ne.ENGINE=ne.OS=X([p,f]),typeof t!==a?(e.exports&&(t=e.exports=ne),t.UAParser=ne):i.amdO?(n=function(){return ne}.call(t,i,t,e))===r||(e.exports=n):typeof s!==a&&(s.UAParser=ne);var se=typeof s!==a&&(s.jQuery||s.Zepto);if(se&&!se.ua){var re=new ne;se.ua=re.getResult(),se.ua.get=function(){return re.getUA()},se.ua.set=function(e){re.setUA(e);var t=re.getResult();for(var i in t)se.ua[i]=t[i]}}}("object"==typeof window?window:this)}}]);