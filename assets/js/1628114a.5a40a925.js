"use strict";(self.webpackChunkskip_docs=self.webpackChunkskip_docs||[]).push([[9427],{83794:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>d});var s=n(97006),i=n(74848),o=n(28453);const a={title:"Crisis Management Exercises",description:"Crisis management and disaster recovery exercises are a great way to learn and to refine your processes and documentation! You should do it too!\n",slug:"crisis-management-exercises",authors:["thomasberg"],tags:["crisis-management","disaster-recovery","exercises"],image:"/img/crisis_3.jpeg",hide_table_of_contents:!1},r=void 0,l={authorsImageUrls:[void 0]},d=[{value:"Exercise 1: Malicious actor",id:"exercise-1-malicious-actor",level:2},{value:"Exercise 2: &quot;Everything is on fire&quot;",id:"exercise-2-everything-is-on-fire",level:2},{value:"What did we learn?",id:"what-did-we-learn",level:2},{value:"Lesson 1: You are only as good as your documentation",id:"lesson-1-you-are-only-as-good-as-your-documentation",level:3},{value:"Lesson 2: Logging, logging, logging! Oh, and monitoring too!",id:"lesson-2-logging-logging-logging-oh-and-monitoring-too",level:3},{value:"Lesson 3: Test your plans!",id:"lesson-3-test-your-plans",level:3},{value:"Lesson 4: Communicate!",id:"lesson-4-communicate",level:3},{value:"Lesson 5: Let the &quot;newbies&quot; handle it",id:"lesson-5-let-the-newbies-handle-it",level:3},{value:"Lesson 6: Crisis exercises as team building",id:"lesson-6-crisis-exercises-as-team-building",level:3},{value:"Thank you for reading!",id:"thank-you-for-reading",level:2}];function c(e){const t={a:"a",h2:"h2",h3:"h3",img:"img",p:"p",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Crisis management exercise",src:n(7156).A+"",width:"1024",height:"1024"})}),"\n",(0,i.jsx)(t.p,{children:'Every IT organization with some semblance of sanity has at least one crisis management or disaster recovery plan, and probably several, depending on the scope and severity of the scenario.\nRanging from "one of our more important applications is experiencing issues in production" through "everything is on fire" on to total loss of data,\na good crisis management or disaster recovery plan should help you retain business continuity or at the very least ensure a return to normal operations within the shortest possible timeframe.\nBut when was the last time you actually found the time to test your plans and ability to respond to a crisis?'}),"\n",(0,i.jsx)(t.p,{children:"And we're not just talking a theoretical abstract exercise - we're talking an actual, realistic scenario involving downtime, troubleshooting, configuration and restoration of services in an actual live environment,\npreferably as close to production in terms of architecture as possible.\nBefore you have had the chance to test every single point of your plans, can you actually be sure that they will work?\nAnd as times change, so do applications, configurations, hardware, architecture - even personnel. New people are added to your team, and people leave - you both need to onboard the new ones and make sure that the knowledge and skillset of people leaving are retained in some fashion.\nHave your plans been updated to take all these factors into account?"}),"\n",(0,i.jsx)(t.p,{children:"Let us take you on a journey through a couple of SKIPs most recent crisis management exercises and explore what happened,\nhow we handled it and what we learned from it."}),"\n",(0,i.jsx)(t.h2,{id:"exercise-1-malicious-actor",children:"Exercise 1: Malicious actor"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Illustration of malicious actor",src:n(69087).A+"",width:"1024",height:"1024"})}),"\n",(0,i.jsx)(t.p,{children:"The first exercise scenario revolved around a malicious actor gaining privileged access to our production Kubernetes cluster, simulated in this case by our internal sandbox cluster.\nAdmittedly, it was somewhat difficult to set up a realistic scenario without outright disabling some of our security tools,\nso in the end we simulated a hostile takeover of the user account belonging to the person responsible for planning and running the exercise."}),"\n",(0,i.jsxs)(t.p,{children:["The first sign that something was amiss was an alert from our ",(0,i.jsx)(t.a,{href:"https://sysdig.com/products/platform/",children:"Sysdig Secure"})," toolset, a ",(0,i.jsx)(t.a,{href:"https://falco.org",children:"Falco"}),"-based agent software which continually monitors our cluster\nfor signs of abnormal activity according to a predefined ruleset and provides a SaaS portal for further analysis and management of threats.\n(We will cover more of our security features and mechanisms and how we try to build a modern kubernetes based application platform with built-in security and zero trust in a future blog post.)\nAfter initial examination, we found that the incident was of such a nature that we engaged our crisis management plan in order to investigate, contain and mitigate the incident.\nWe simulated communication with the organization-level crisis management team, having regular meetings in order to keep them informed of progress.\nSystematic examination of logs and audit logs soon turned up suspicious activity confined to one specific platform developer account, and the\ndecision was made to immediately suspend (simulated in this case) the account, removing all access to organizational systems and in effect locking it out.\nSimultaneously, the malicious software was removed once enough evidence was secured in order to further analyze the actions and impact of it.\nThe exercise was announced as ended once we suspended the compromised user account and removed the malicious application while retaining and analyzing enough logs, forensic captures and other traces of activity."]}),"\n",(0,i.jsx)(t.h2,{id:"exercise-2-everything-is-on-fire",children:'Exercise 2: "Everything is on fire"'}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Illustration of malicious actor",src:n(55865).A+"",width:"1024",height:"1024"})}),"\n",(0,i.jsx)(t.p,{children:"The second exercise scenario was somewhat more involved, taking place over two days. The incident itself was as follows:\nA software update or rogue script caused catastrophic hardware failure in production infrastructure, necessitating creation of a\nnew Kubernetes cluster from scratch. Once the cluster itself and all underlying infrastructure had been created and configured, it would then be up to our platform team to\ndeploy all necessary IAM configuration, service accounts, RBAC and supporting systems (Istio, ArgoCD ++) needed to deploy workloads and restore normal operations.\nThe exercise itself focused on this second phase of restoration, as the infrastructure configuration and cluster creation itself is done by another team, with little involvement by our platform team members."}),"\n",(0,i.jsx)(t.p,{children:"The failure itself was simulated by having our infrastructure team wipe our sandbox environment and present us with a clean-slate Kubernetes cluster.\nWe called an all-hands meeting and set to work restoring services right away. Right at the onset, we recognized that this was a golden opportunity\nboth to ensure that our documentation was up-to-date, consistent and easy to follow, as well as give our three newest team members some much-needed\nexperience and insight into setting up our services from scratch.\nWe therefore decided that the newest team members would be the ones to actually execute all the\nactions outlined in our documentation, while the rest of us followed along and made notes, updated documentation and otherwise provided guidance throughout the process."}),"\n",(0,i.jsx)(t.p,{children:'The first run-through of the recovery process took around 2-3 hours before everything was in working order. Keep in mind that we took the time to update our documentation and explain everything we did while we were working, so in a real-life scenario this would have been even quicker. Once the IAM, RBAC, Istio and ArgoCD was up and running, it was merely a matter of using ArgoCD to synchronize and deploy all relevant workloads.\nAfterwards, we had a meeting to discuss the process and what experiences we gained from it. Based on the feedback from this meeting, we made further adjustments and updates to our documentation\nin order to make it even easier to follow on a step-by-step basis, focusing on removing any ambiguity and put any "tribal" knowledge among our platform developers into writing.\nThis ensured that we are way less dependent on the knowledge and skillset of specific people, enabling any team member to contribute to recovery efforts by simply following the documentation.'}),"\n",(0,i.jsx)(t.p,{children:"The newest team members greatly enjoyed being responsible for the recovery effort itself, and expressed a wish to run through the scenario again in order to refine their skills and further improve the documentation.\nTherefore, we decided to set aside most of day 2 to do just that. We had the infrastructure team tear down and setup the cluster again, and let the newest team members loose on it - this time on their own without guidance - an additional two times.\nThe last run-through of the exercise took between 30 and 60 minutes, a significant improvement from the initial attempt."}),"\n",(0,i.jsx)(t.p,{children:"All in all, we considered the exercise to be a great success, with many important lessons learned and a substantial improvement in the quality of our documentation and crisis management plans."}),"\n",(0,i.jsx)(t.h2,{id:"what-did-we-learn",children:"What did we learn?"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Illustration of malicious actor",src:n(69839).A+"",width:"1024",height:"1024"})}),"\n",(0,i.jsx)(t.h3,{id:"lesson-1-you-are-only-as-good-as-your-documentation",children:"Lesson 1: You are only as good as your documentation"}),"\n",(0,i.jsx)(t.p,{children:"Documentation is vitally important during a crisis, and should be detailed enough that any team member may follow it on a step-by-step basis and be able to restore normal service, even with minimal knowledge and during a stressful situation.\nThis ensures that you avoid being dependent upon key personnel that might or might not be available during a crisis scenario, and also ensures that you retain vital institutional knowledge even when team members move on to different tasks or even new jobs."}),"\n",(0,i.jsx)(t.h3,{id:"lesson-2-logging-logging-logging-oh-and-monitoring-too",children:"Lesson 2: Logging, logging, logging! Oh, and monitoring too!"}),"\n",(0,i.jsx)(t.p,{children:"Having the ability to search through logs of all parts of our system greatly simplifies any incident management, whether the incident revolved around malicious actors or other factors.\nBut logs by themselves are not sufficient - you need some sort of monitoring and alerting system in order to alert on and react to abnormal situations/behaviour in your systems.\nIdeally, you should be able to react on these alerts instead of messages from users - or worse, customers - that something is wrong."}),"\n",(0,i.jsx)(t.h3,{id:"lesson-3-test-your-plans",children:"Lesson 3: Test your plans!"}),"\n",(0,i.jsx)(t.p,{children:"Merely having plans, routines and documentation is insufficient. Unless they have been thoroughly tested and their quality assured through crisis exercises in realistic scenarios and conditions, they should be treated as flawed and unreliable until the opposite is proven.\nRunning crisis management exercises is a great way to expose flaws, insufficiencies and outdated documentation, and careful note-taking and postmortems should be the norm throughout the exercise in order to easily identify and update weak spots in your plans and documentation. As systems and circumstances change, so should plans and documentation too in order to reflect the new order of the day."}),"\n",(0,i.jsx)(t.h3,{id:"lesson-4-communicate",children:"Lesson 4: Communicate!"}),"\n",(0,i.jsxs)(t.p,{children:["Openness and communication is critical during both exercises and real-world crisis scenarios. Plans should always involve key points of communication - who needs to be informed, whose responsibility it is to keep said people informed, and the frequency, scope and format of information to disseminate.\nThis also applies to communication afterwards. Anyone in your organization should be able to understand what happened, how it was solved and what lessons were learned from it.\nIn Kartverket, we solve this by writing postmortems about incidents, summing up the incident itself and what we learned from it. We favour ",(0,i.jsx)(t.a,{href:"https://www.atlassian.com/incident-management/postmortem/blameless",children:"Blameless Postmortems"}),', enabling us to quickly and thoroughly analayze and document all aspects of an incident without focusing on individual mistakes   and avoid passing blame.\nThis contributes to a culture of openness, learning and improvement. Hoarding information and disseminating it only on a "need-to-know" basis only breeds distrust and contempt, as does a culture that focuses on blaming and punishing people for mistakes instead of learning from them.\nA further bonus when communicating the happenings and results of your crisis management exercises is the potential to inspire others - when people see the great results and lessons you yourselves have gained from such exercises, they might want to try it with their own systems and teams.']}),"\n",(0,i.jsx)(t.h3,{id:"lesson-5-let-the-newbies-handle-it",children:'Lesson 5: Let the "newbies" handle it'}),"\n",(0,i.jsx)(t.p,{children:"Putting our newest team members in charge of the recovery operations was a great learning experience for them, as well as enabling us to quickly find flaws and shortcomings in our documentation and crisis management plans.\nIt is also a great confidence booster, because if they succeed, they'll gain valuable insight and positive experiences with setting up all those scary critical systems from scratch - and if they don't succeed, well, that's not their fault, it was because the documentation and training was insufficent to enable them to handle the situation!"}),"\n",(0,i.jsx)(t.h3,{id:"lesson-6-crisis-exercises-as-team-building",children:"Lesson 6: Crisis exercises as team building"}),"\n",(0,i.jsx)(t.p,{children:'Crisis exercises are fun and contribute to better teamwork! They bring everyone together in order to achieve a common goal - get things up and running again as quickly as possible. Combine it with "pair programming" - that is, if possible make sure at least two people are working on any given task together - this helps facilitate cooperation and communication, and provides an extra set of eyes to help catch any manual errors or deviations from the plan.'}),"\n",(0,i.jsx)(t.h2,{id:"thank-you-for-reading",children:"Thank you for reading!"}),"\n",(0,i.jsx)(t.p,{children:"We appreciate you taking the time to read through this blog post. We have learned quite a lot (and had lots of fun) through our approach to crisis management exercises. We hope our experiences and thoughts regarding this subject has been interesting, and that they may inspire others to start doing crisis management exercises as well."})]})}function u(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},7156:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/crisismanagamentexercise-d7535fb5c7f77b781b6d63fafbda2ffe.jpeg"},69087:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/hacker3-a25537fa33206d3caf181c19e2fb9767.jpeg"},55865:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/serverroomonfire-d4f5e0159394923419ba537e82f37102.jpeg"},69839:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/whatdidwelearn-351c9d63d64164132b84622040fcfa25.jpeg"},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>r});var s=n(96540);const i={},o=s.createContext(i);function a(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(o.Provider,{value:t},e.children)}},97006:e=>{e.exports=JSON.parse('{"permalink":"/blog/crisis-management-exercises","source":"@site/blog/2024-02-19-crisis-mgmt.md","title":"Crisis Management Exercises","description":"Crisis management and disaster recovery exercises are a great way to learn and to refine your processes and documentation! You should do it too!\\n","date":"2024-02-19T00:00:00.000Z","tags":[{"inline":true,"label":"crisis-management","permalink":"/blog/tags/crisis-management"},{"inline":true,"label":"disaster-recovery","permalink":"/blog/tags/disaster-recovery"},{"inline":true,"label":"exercises","permalink":"/blog/tags/exercises"}],"readingTime":9.49,"hasTruncateMarker":true,"authors":[{"name":"Thomas Berg","title":"Team Lead and Platform Developer","url":"https://github.com/berg-thom","imageURL":"https://github.com/berg-thom.png","key":"thomasberg","page":null}],"frontMatter":{"title":"Crisis Management Exercises","description":"Crisis management and disaster recovery exercises are a great way to learn and to refine your processes and documentation! You should do it too!\\n","slug":"crisis-management-exercises","authors":["thomasberg"],"tags":["crisis-management","disaster-recovery","exercises"],"image":"/img/crisis_3.jpeg","hide_table_of_contents":false},"unlisted":false,"prevItem":{"title":"Scaling with Argo CD: Introducing the Apps Repo Architecture","permalink":"/blog/introducing-apps-repositories"},"nextItem":{"title":"Hybrid Kubernetes in production pt. 3","permalink":"/blog/hybrid-kubernetes-in-production-part-3"}}')}}]);